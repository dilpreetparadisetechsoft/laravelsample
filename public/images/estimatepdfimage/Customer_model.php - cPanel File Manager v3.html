<!DOCTYPE html>
<!-- saved from url=(0257)https://dev.bondcrm.com:2083/cpsess4847694846/frontend/paper_lantern/filemanager/editit.html?file=Customer_model.php&fileop=&dir=%2Fhome%2Fdevbondcrm%2Fpublic_html%2Fapplication%2Fmodels%2Fcustomer&dirop=&charset=&file_charset=utf-8&baseurl=&basedir=&edit=1 -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <title>Customer_model.php - cPanel File Manager v3</title>
        
        <link rel="stylesheet" type="text/css" href="./Customer_model.php - cPanel File Manager v3_files/bootstrap.min.css">
        
        <link rel="stylesheet" type="text/css" href="./Customer_model.php - cPanel File Manager v3_files/open_sans.min.css">
        <link rel="stylesheet" type="text/css" href="./Customer_model.php - cPanel File Manager v3_files/fontawesome-all.min.css">
        <link rel="stylesheet" type="text/css" href="./Customer_model.php - cPanel File Manager v3_files/tree_styles2_optimized.css">

        <script type="text/javascript" src="./Customer_model.php - cPanel File Manager v3_files/utilities_container.js"></script>
        <script type="text/javascript" src="./Customer_model.php - cPanel File Manager v3_files/cpanel-all-min.js"></script>
        <script type="text/javascript" src="./Customer_model.php - cPanel File Manager v3_files/filemanager_editors_optimized.js"></script>

        
<link rel="stylesheet" type="text/css" href="./Customer_model.php - cPanel File Manager v3_files/ajaxapp-min.css">
<!--[if IE 6]>
<link rel="stylesheet" type="text/css" href="/cPanel_magic_revision_1448314780/cjt/css/ajaxapp_ie6.css" />
<![endif]-->


        <style type="text/css">
            html, body, #maintbl {
                height: 100%;
                width: 100%;
                margin: 0;
                padding: 0;
                background: none !important;
            }

            form { margin: 0 }

            #maintbl, #maintbl tr, #maintbl td {
                margin:0;
                padding:0;
                border-collapse: collapse;
                border: none;
            }

            .cjt_progress_overlay .bd {
                background: transparent;
            }

            /* Suppress inherited styles from global style sheets. */
            .yui-panel .hd,
            .yui-panel .bd,
            .yui-panel .ft {
                background-image: none;
                font-size: 100%;

            }
            .yui-panel .ft {
                background-color: #CCCCCC;
            }

            /* overrides from tree_styles2_optimized.css */
            p {
                line-height: normal;
            }
            .header {
                background: #333333;
                color: #FFFFFF;
                padding: 5px;
            }
            .button-group .default {
                background: none !important;
                padding: 0;
            }

            .action-buttons {
                text-align: right;
            }

            .editor-area {
                position: absolute !important;
                top: 94px;
                right: 0;
                left: 0;
                bottom: 20px;
                border: 1px solid #CCCCCC;
            }

            .editor-toolbar {
                padding-top: 5px;
                padding-bottom: 5px;
            }

            .editor-toolbar .fa-terminal {
                font-size: inherit;
            }

            .btn-group-ddl {
                padding: 1px;
            }

            .help-link {
                padding: 14px;
                display: block;
            }

            @media (max-width: 503px) {
                .editor-area {
                    top: 245px;
                }
                .action-buttons {
                    text-align: left;
                }
            }

            @media (min-width: 504px) and (max-width: 768px) {
                .editor-area {
                    top: 200px;
                }
            }

            @media (min-width: 769px) and (max-width: 1074px) {
                .editor-area {
                    top: 130px;
                }
            }
        </style>

        <!--[if IE]>
        <style type="text/css">
            #legacy_codewindow {
                width: 99.5%;
            }
        </style>
        <![endif]-->

    <style id="ace_editor.css">.ace_editor {position: relative;overflow: hidden;font: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'source-code-pro', monospace;direction: ltr;text-align: left;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;box-sizing: border-box;min-width: 100%;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: '';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;text-indent: -1em;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;white-space: pre!important;}.ace_text-input.ace_composition {background: inherit;color: inherit;z-index: 1000;opacity: 1;text-indent: 0;}[ace_nocontext=true] {transform: none!important;filter: none!important;perspective: none!important;clip-path: none!important;mask : none!important;contain: none!important;perspective: none!important;mix-blend-mode: initial!important;z-index: auto;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;}.ace_text-layer {font: inherit !important;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;box-sizing: border-box;border-left: 2px solid;transform: translatez(0);}.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_smooth-blinking .ace_cursor {transition: opacity 0.18s;}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;box-sizing: border-box;}.ace_line .ace_fold {box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_inline_button {border: 1px solid lightgray;display: inline-block;margin: -1px 8px;padding: 0 5px;pointer-events: auto;cursor: pointer;}.ace_inline_button:hover {border-color: gray;background: rgba(200,200,200,0.2);display: inline-block;pointer-events: auto;}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}.ace_br1 {border-top-left-radius    : 3px;}.ace_br2 {border-top-right-radius   : 3px;}.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}.ace_br4 {border-bottom-right-radius: 3px;}.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}.ace_br8 {border-bottom-left-radius : 3px;}.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}.ace_text-input-ios {position: absolute !important;top: -100000px !important;left: -100000px !important;}
/*# sourceURL=ace/css/ace_editor.css */</style><style id="ace-tm">.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}
/*# sourceURL=ace/css/ace-tm */</style><style>    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }</style><script src="./Customer_model.php - cPanel File Manager v3_files/mode-php.js"></script><script src="./Customer_model.php - cPanel File Manager v3_files/theme-chrome.js"></script><style id="ace-chrome">.ace-chrome .ace_gutter {background: #ebebeb;color: #333;overflow : hidden;}.ace-chrome .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-chrome {background-color: #FFFFFF;color: black;}.ace-chrome .ace_cursor {color: black;}.ace-chrome .ace_invisible {color: rgb(191, 191, 191);}.ace-chrome .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-chrome .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-chrome .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-chrome .ace_invalid {background-color: rgb(153, 0, 0);color: white;}.ace-chrome .ace_fold {}.ace-chrome .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-chrome .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-chrome .ace_support.ace_type,.ace-chrome .ace_support.ace_class.ace-chrome .ace_support.ace_other {color: rgb(109, 121, 222);}.ace-chrome .ace_variable.ace_parameter {font-style:italic;color:#FD971F;}.ace-chrome .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-chrome .ace_comment {color: #236e24;}.ace-chrome .ace_comment.ace_doc {color: #236e24;}.ace-chrome .ace_comment.ace_doc.ace_tag {color: #236e24;}.ace-chrome .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-chrome .ace_variable {color: rgb(49, 132, 149);}.ace-chrome .ace_xml-pe {color: rgb(104, 104, 91);}.ace-chrome .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-chrome .ace_heading {color: rgb(12, 7, 255);}.ace-chrome .ace_list {color:rgb(185, 6, 144);}.ace-chrome .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-chrome .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-chrome .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-chrome .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-chrome .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-chrome .ace_gutter-active-line {background-color : #dcdcdc;}.ace-chrome .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-chrome .ace_storage,.ace-chrome .ace_keyword,.ace-chrome .ace_meta.ace_tag {color: rgb(147, 15, 128);}.ace-chrome .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-chrome .ace_string {color: #1A1AA6;}.ace-chrome .ace_entity.ace_other.ace_attribute-name {color: #994409;}.ace-chrome .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}
/*# sourceURL=ace/css/ace-chrome */</style><script src="./Customer_model.php - cPanel File Manager v3_files/ext-searchbox.js"></script><style id="ace_searchbox">.ace_search {background-color: #ddd;color: #666;border: 1px solid #cbcbcb;border-top: 0 none;overflow: hidden;margin: 0;padding: 4px 6px 0 4px;position: absolute;top: 0;z-index: 99;white-space: normal;}.ace_search.left {border-left: 0 none;border-radius: 0px 0px 5px 0px;left: 0;}.ace_search.right {border-radius: 0px 0px 0px 5px;border-right: 0 none;right: 0;}.ace_search_form, .ace_replace_form {margin: 0 20px 4px 0;overflow: hidden;line-height: 1.9;}.ace_replace_form {margin-right: 0;}.ace_search_form.ace_nomatch {outline: 1px solid red;}.ace_search_field {border-radius: 3px 0 0 3px;background-color: white;color: black;border: 1px solid #cbcbcb;border-right: 0 none;box-sizing: border-box!important;outline: 0;padding: 0;font-size: inherit;margin: 0;line-height: inherit;padding: 0 6px;min-width: 17em;vertical-align: top;}.ace_searchbtn {border: 1px solid #cbcbcb;line-height: inherit;display: inline-block;padding: 0 6px;background: #fff;border-right: 0 none;border-left: 1px solid #dcdcdc;cursor: pointer;margin: 0;position: relative;box-sizing: content-box!important;color: #666;}.ace_searchbtn:last-child {border-radius: 0 3px 3px 0;border-right: 1px solid #cbcbcb;}.ace_searchbtn:disabled {background: none;cursor: default;}.ace_searchbtn:hover {background-color: #eef1f6;}.ace_searchbtn.prev, .ace_searchbtn.next {padding: 0px 0.7em}.ace_searchbtn.prev:after, .ace_searchbtn.next:after {content: "";border: solid 2px #888;width: 0.5em;height: 0.5em;border-width:  2px 0 0 2px;display:inline-block;transform: rotate(-45deg);}.ace_searchbtn.next:after {border-width: 0 2px 2px 0 ;}.ace_searchbtn_close {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAcCAYAAABRVo5BAAAAZ0lEQVR42u2SUQrAMAhDvazn8OjZBilCkYVVxiis8H4CT0VrAJb4WHT3C5xU2a2IQZXJjiQIRMdkEoJ5Q2yMqpfDIo+XY4k6h+YXOyKqTIj5REaxloNAd0xiKmAtsTHqW8sR2W5f7gCu5nWFUpVjZwAAAABJRU5ErkJggg==) no-repeat 50% 0;border-radius: 50%;border: 0 none;color: #656565;cursor: pointer;font: 16px/16px Arial;padding: 0;height: 14px;width: 14px;top: 9px;right: 7px;position: absolute;}.ace_searchbtn_close:hover {background-color: #656565;background-position: 50% 100%;color: white;}.ace_button {margin-left: 2px;cursor: pointer;-webkit-user-select: none;-moz-user-select: none;-o-user-select: none;-ms-user-select: none;user-select: none;overflow: hidden;opacity: 0.7;border: 1px solid rgba(100,100,100,0.23);padding: 1px;box-sizing:    border-box!important;color: black;}.ace_button:hover {background-color: #eee;opacity:1;}.ace_button:active {background-color: #ddd;}.ace_button.checked {border-color: #3399ff;opacity:1;}.ace_search_options{margin-bottom: 3px;text-align: right;-webkit-user-select: none;-moz-user-select: none;-o-user-select: none;-ms-user-select: none;user-select: none;clear: both;}.ace_search_counter {float: left;font-family: arial;padding: 0 8px;}
/*# sourceURL=ace/css/ace_searchbox */</style></head>
    <body class="nomargins yui-skin-sam"><div class="mask" id="yui-gen3_mask" style="z-index: 2501; height: 623px; width: 1316px; display: none;">&nbsp;</div><div class="yui-panel-container cjt-progress-overlay throbber cjt_progress_panel_container yui-overlay-hidden" id="yui-gen3_c" style="z-index: 2502; visibility: hidden; left: 520px; top: 281px; overflow: hidden;"><div id="yui-gen3" class="yui-module yui-overlay yui-panel cjt_progress_panel" style="visibility: inherit;"><input style="position: absolute; top: 1px; outline: 0px; margin: 0px; border: 0px; padding: 0px; height: 1px; width: 1px; z-index: -1; opacity: 0;"><button tabindex="-1" style="height: 1px; width: 1px; position: absolute; left: -10000em; opacity: 0;"></button><div class="bd" id="yui-gen4" style="border: 0px;"><div class="cjt-progress-overlay-body-liner"><div class="loader-tool"><div class="loader"></div></div><div class="cjt-progress-overlay-text-container"><span class="cjt-progress-overlay-text cjt-fading-text-field">Saving “Customer_model.php” …</span></div></div></div><input style="position: absolute; top: 1px; outline: 0px; margin: 0px; border: 0px; padding: 0px; height: 1px; width: 1px; z-index: -1; opacity: 0;"></div></div><iframe id="_yuiResizeMonitor" title="Text Resize Monitor" tabindex="-1" role="presentation" style="position: absolute; visibility: visible; background-color: transparent; border-width: 0px; width: 2em; height: 2em; left: 0px; top: -29px;" src="./Customer_model.php - cPanel File Manager v3_files/saved_resource.html"></iframe><div class="mask" id="yui-gen0_mask" style="z-index: 2499; height: 623px; width: 1316px; display: none;">&nbsp;</div><div class="yui-panel-container cjt-progress-overlay throbber cjt_progress_panel_container yui-overlay-hidden" id="yui-gen0_c" style="z-index: 2500; visibility: hidden; left: 520px; top: 281px; overflow: hidden;"><div id="yui-gen0" class="yui-module yui-overlay yui-panel cjt_progress_panel" style="visibility: inherit;"><input style="position: absolute; top: 1px; outline: 0px; margin: 0px; border: 0px; padding: 0px; height: 1px; width: 1px; z-index: -1; opacity: 0;"><button tabindex="-1" style="height: 1px; width: 1px; position: absolute; left: -10000em; opacity: 0;"></button><div class="bd" id="yui-gen1" style="border: 0px;"><div class="cjt-progress-overlay-body-liner"><div class="loader-tool"><div class="loader"></div></div><div class="cjt-progress-overlay-text-container"><span class="cjt-progress-overlay-text cjt-fading-text-field">Saving “Customer_model.php” …</span></div></div></div><input style="position: absolute; top: 1px; outline: 0px; margin: 0px; border: 0px; padding: 0px; height: 1px; width: 1px; z-index: -1; opacity: 0;"></div></div>
        <form action="javascript:void(0)" name="sform" onsubmit="loadfdata(&#39;sform_submit&#39;); return false;" class="form-inline">
            <table border="0" id="maintbl">
                <tbody><tr class="header">
                    <td style="padding: 5px">
                        <div class="row">
                            <div class="col-xs-12 col-md-8">
                                <label style="font-weight: 900; font-size:13px;">
                                    Editing:
                                    <input id="path" name="path" value="/home/devbondcrm/public_html/application/models/customer/Customer_model.php" class="form-control">
                                </label>
                                <label>Encoding:
                                    <select id="charset" name="charset" class="form-control">
                                    
                                        
                                            <option value="ansi_x3.110-1983">
                                                ansi_x3.110-1983
                                            </option>
                                        
                                            <option value="ansi_x3.4-1968">
                                                ansi_x3.4-1968
                                            </option>
                                        
                                            <option value="armscii-8">
                                                armscii-8
                                            </option>
                                        
                                            <option value="asmo_449">
                                                asmo_449
                                            </option>
                                        
                                            <option value="big5">
                                                big5
                                            </option>
                                        
                                            <option value="big5-hkscs">
                                                big5-hkscs
                                            </option>
                                        
                                            <option value="brf">
                                                brf
                                            </option>
                                        
                                            <option value="bs_4730">
                                                bs_4730
                                            </option>
                                        
                                            <option value="bs_viewdata">
                                                bs_viewdata
                                            </option>
                                        
                                            <option value="cp10007">
                                                cp10007
                                            </option>
                                        
                                            <option value="cp1125">
                                                cp1125
                                            </option>
                                        
                                            <option value="cp1250">
                                                cp1250
                                            </option>
                                        
                                            <option value="cp1253">
                                                cp1253
                                            </option>
                                        
                                            <option value="cp1254">
                                                cp1254
                                            </option>
                                        
                                            <option value="cp1255">
                                                cp1255
                                            </option>
                                        
                                            <option value="cp1256">
                                                cp1256
                                            </option>
                                        
                                            <option value="cp1257">
                                                cp1257
                                            </option>
                                        
                                            <option value="cp1258">
                                                cp1258
                                            </option>
                                        
                                            <option value="cp737">
                                                cp737
                                            </option>
                                        
                                            <option value="cp775">
                                                cp775
                                            </option>
                                        
                                            <option value="csa_z243.4-1985-1">
                                                csa_z243.4-1985-1
                                            </option>
                                        
                                            <option value="csa_z243.4-1985-2">
                                                csa_z243.4-1985-2
                                            </option>
                                        
                                            <option value="csa_z243.4-1985-gr">
                                                csa_z243.4-1985-gr
                                            </option>
                                        
                                            <option value="csn_369103">
                                                csn_369103
                                            </option>
                                        
                                            <option value="cwi">
                                                cwi
                                            </option>
                                        
                                            <option value="dec-mcs">
                                                dec-mcs
                                            </option>
                                        
                                            <option value="din_66003">
                                                din_66003
                                            </option>
                                        
                                            <option value="ds_2089">
                                                ds_2089
                                            </option>
                                        
                                            <option value="ebcdic-at-de">
                                                ebcdic-at-de
                                            </option>
                                        
                                            <option value="ebcdic-at-de-a">
                                                ebcdic-at-de-a
                                            </option>
                                        
                                            <option value="ebcdic-ca-fr">
                                                ebcdic-ca-fr
                                            </option>
                                        
                                            <option value="ebcdic-dk-no">
                                                ebcdic-dk-no
                                            </option>
                                        
                                            <option value="ebcdic-dk-no-a">
                                                ebcdic-dk-no-a
                                            </option>
                                        
                                            <option value="ebcdic-es">
                                                ebcdic-es
                                            </option>
                                        
                                            <option value="ebcdic-es-a">
                                                ebcdic-es-a
                                            </option>
                                        
                                            <option value="ebcdic-es-s">
                                                ebcdic-es-s
                                            </option>
                                        
                                            <option value="ebcdic-fi-se">
                                                ebcdic-fi-se
                                            </option>
                                        
                                            <option value="ebcdic-fi-se-a">
                                                ebcdic-fi-se-a
                                            </option>
                                        
                                            <option value="ebcdic-fr">
                                                ebcdic-fr
                                            </option>
                                        
                                            <option value="ebcdic-is-friss">
                                                ebcdic-is-friss
                                            </option>
                                        
                                            <option value="ebcdic-it">
                                                ebcdic-it
                                            </option>
                                        
                                            <option value="ebcdic-pt">
                                                ebcdic-pt
                                            </option>
                                        
                                            <option value="ebcdic-uk">
                                                ebcdic-uk
                                            </option>
                                        
                                            <option value="ebcdic-us">
                                                ebcdic-us
                                            </option>
                                        
                                            <option value="ecma-cyrillic">
                                                ecma-cyrillic
                                            </option>
                                        
                                            <option value="es">
                                                es
                                            </option>
                                        
                                            <option value="es2">
                                                es2
                                            </option>
                                        
                                            <option value="euc-jisx0213">
                                                euc-jisx0213
                                            </option>
                                        
                                            <option value="euc-jp">
                                                euc-jp
                                            </option>
                                        
                                            <option value="euc-jp-ms">
                                                euc-jp-ms
                                            </option>
                                        
                                            <option value="euc-kr">
                                                euc-kr
                                            </option>
                                        
                                            <option value="euc-tw">
                                                euc-tw
                                            </option>
                                        
                                            <option value="gb18030">
                                                gb18030
                                            </option>
                                        
                                            <option value="gb2312">
                                                gb2312
                                            </option>
                                        
                                            <option value="gb_1988-80">
                                                gb_1988-80
                                            </option>
                                        
                                            <option value="gbk">
                                                gbk
                                            </option>
                                        
                                            <option value="georgian-academy">
                                                georgian-academy
                                            </option>
                                        
                                            <option value="georgian-ps">
                                                georgian-ps
                                            </option>
                                        
                                            <option value="gost_19768-74">
                                                gost_19768-74
                                            </option>
                                        
                                            <option value="greek-ccitt">
                                                greek-ccitt
                                            </option>
                                        
                                            <option value="greek7">
                                                greek7
                                            </option>
                                        
                                            <option value="greek7-old">
                                                greek7-old
                                            </option>
                                        
                                            <option value="gsm03.38">
                                                gsm03.38
                                            </option>
                                        
                                            <option value="hp-greek8">
                                                hp-greek8
                                            </option>
                                        
                                            <option value="hp-roman8">
                                                hp-roman8
                                            </option>
                                        
                                            <option value="hp-roman9">
                                                hp-roman9
                                            </option>
                                        
                                            <option value="hp-thai8">
                                                hp-thai8
                                            </option>
                                        
                                            <option value="hp-turkish8">
                                                hp-turkish8
                                            </option>
                                        
                                            <option value="hz-gb-2312">
                                                hz-gb-2312
                                            </option>
                                        
                                            <option value="ibm037">
                                                ibm037
                                            </option>
                                        
                                            <option value="ibm038">
                                                ibm038
                                            </option>
                                        
                                            <option value="ibm1004">
                                                ibm1004
                                            </option>
                                        
                                            <option value="ibm1026">
                                                ibm1026
                                            </option>
                                        
                                            <option value="ibm1047">
                                                ibm1047
                                            </option>
                                        
                                            <option value="ibm1124">
                                                ibm1124
                                            </option>
                                        
                                            <option value="ibm1129">
                                                ibm1129
                                            </option>
                                        
                                            <option value="ibm1132">
                                                ibm1132
                                            </option>
                                        
                                            <option value="ibm1133">
                                                ibm1133
                                            </option>
                                        
                                            <option value="ibm1160">
                                                ibm1160
                                            </option>
                                        
                                            <option value="ibm1161">
                                                ibm1161
                                            </option>
                                        
                                            <option value="ibm1162">
                                                ibm1162
                                            </option>
                                        
                                            <option value="ibm1163">
                                                ibm1163
                                            </option>
                                        
                                            <option value="ibm1164">
                                                ibm1164
                                            </option>
                                        
                                            <option value="ibm256">
                                                ibm256
                                            </option>
                                        
                                            <option value="ibm273">
                                                ibm273
                                            </option>
                                        
                                            <option value="ibm274">
                                                ibm274
                                            </option>
                                        
                                            <option value="ibm275">
                                                ibm275
                                            </option>
                                        
                                            <option value="ibm277">
                                                ibm277
                                            </option>
                                        
                                            <option value="ibm278">
                                                ibm278
                                            </option>
                                        
                                            <option value="ibm280">
                                                ibm280
                                            </option>
                                        
                                            <option value="ibm281">
                                                ibm281
                                            </option>
                                        
                                            <option value="ibm284">
                                                ibm284
                                            </option>
                                        
                                            <option value="ibm285">
                                                ibm285
                                            </option>
                                        
                                            <option value="ibm290">
                                                ibm290
                                            </option>
                                        
                                            <option value="ibm297">
                                                ibm297
                                            </option>
                                        
                                            <option value="ibm420">
                                                ibm420
                                            </option>
                                        
                                            <option value="ibm423">
                                                ibm423
                                            </option>
                                        
                                            <option value="ibm424">
                                                ibm424
                                            </option>
                                        
                                            <option value="ibm437">
                                                ibm437
                                            </option>
                                        
                                            <option value="ibm500">
                                                ibm500
                                            </option>
                                        
                                            <option value="ibm850">
                                                ibm850
                                            </option>
                                        
                                            <option value="ibm851">
                                                ibm851
                                            </option>
                                        
                                            <option value="ibm852">
                                                ibm852
                                            </option>
                                        
                                            <option value="ibm855">
                                                ibm855
                                            </option>
                                        
                                            <option value="ibm856">
                                                ibm856
                                            </option>
                                        
                                            <option value="ibm857">
                                                ibm857
                                            </option>
                                        
                                            <option value="ibm860">
                                                ibm860
                                            </option>
                                        
                                            <option value="ibm861">
                                                ibm861
                                            </option>
                                        
                                            <option value="ibm862">
                                                ibm862
                                            </option>
                                        
                                            <option value="ibm863">
                                                ibm863
                                            </option>
                                        
                                            <option value="ibm864">
                                                ibm864
                                            </option>
                                        
                                            <option value="ibm865">
                                                ibm865
                                            </option>
                                        
                                            <option value="ibm866">
                                                ibm866
                                            </option>
                                        
                                            <option value="ibm866nav">
                                                ibm866nav
                                            </option>
                                        
                                            <option value="ibm868">
                                                ibm868
                                            </option>
                                        
                                            <option value="ibm869">
                                                ibm869
                                            </option>
                                        
                                            <option value="ibm870">
                                                ibm870
                                            </option>
                                        
                                            <option value="ibm871">
                                                ibm871
                                            </option>
                                        
                                            <option value="ibm874">
                                                ibm874
                                            </option>
                                        
                                            <option value="ibm875">
                                                ibm875
                                            </option>
                                        
                                            <option value="ibm880">
                                                ibm880
                                            </option>
                                        
                                            <option value="ibm891">
                                                ibm891
                                            </option>
                                        
                                            <option value="ibm903">
                                                ibm903
                                            </option>
                                        
                                            <option value="ibm904">
                                                ibm904
                                            </option>
                                        
                                            <option value="ibm905">
                                                ibm905
                                            </option>
                                        
                                            <option value="ibm918">
                                                ibm918
                                            </option>
                                        
                                            <option value="ibm922">
                                                ibm922
                                            </option>
                                        
                                            <option value="iec_p27-1">
                                                iec_p27-1
                                            </option>
                                        
                                            <option value="inis">
                                                inis
                                            </option>
                                        
                                            <option value="inis-8">
                                                inis-8
                                            </option>
                                        
                                            <option value="inis-cyrillic">
                                                inis-cyrillic
                                            </option>
                                        
                                            <option value="invariant">
                                                invariant
                                            </option>
                                        
                                            <option value="isiri-3342">
                                                isiri-3342
                                            </option>
                                        
                                            <option value="iso-8859-1">
                                                iso-8859-1
                                            </option>
                                        
                                            <option value="iso-8859-10">
                                                iso-8859-10
                                            </option>
                                        
                                            <option value="iso-8859-11">
                                                iso-8859-11
                                            </option>
                                        
                                            <option value="iso-8859-13">
                                                iso-8859-13
                                            </option>
                                        
                                            <option value="iso-8859-14">
                                                iso-8859-14
                                            </option>
                                        
                                            <option value="iso-8859-15">
                                                iso-8859-15
                                            </option>
                                        
                                            <option value="iso-8859-16">
                                                iso-8859-16
                                            </option>
                                        
                                            <option value="iso-8859-2">
                                                iso-8859-2
                                            </option>
                                        
                                            <option value="iso-8859-3">
                                                iso-8859-3
                                            </option>
                                        
                                            <option value="iso-8859-4">
                                                iso-8859-4
                                            </option>
                                        
                                            <option value="iso-8859-5">
                                                iso-8859-5
                                            </option>
                                        
                                            <option value="iso-8859-6">
                                                iso-8859-6
                                            </option>
                                        
                                            <option value="iso-8859-7">
                                                iso-8859-7
                                            </option>
                                        
                                            <option value="iso-8859-8">
                                                iso-8859-8
                                            </option>
                                        
                                            <option value="iso-8859-9">
                                                iso-8859-9
                                            </option>
                                        
                                            <option value="iso-8859-9e">
                                                iso-8859-9e
                                            </option>
                                        
                                            <option value="iso-ir-197">
                                                iso-ir-197
                                            </option>
                                        
                                            <option value="iso-ir-209">
                                                iso-ir-209
                                            </option>
                                        
                                            <option value="iso-ir-90">
                                                iso-ir-90
                                            </option>
                                        
                                            <option value="iso_10367-box">
                                                iso_10367-box
                                            </option>
                                        
                                            <option value="iso_10646">
                                                iso_10646
                                            </option>
                                        
                                            <option value="iso_11548-1">
                                                iso_11548-1
                                            </option>
                                        
                                            <option value="iso_2033-1983">
                                                iso_2033-1983
                                            </option>
                                        
                                            <option value="iso_5427">
                                                iso_5427
                                            </option>
                                        
                                            <option value="iso_5427-ext">
                                                iso_5427-ext
                                            </option>
                                        
                                            <option value="iso_5428">
                                                iso_5428
                                            </option>
                                        
                                            <option value="iso_646.basic">
                                                iso_646.basic
                                            </option>
                                        
                                            <option value="iso_646.irv">
                                                iso_646.irv
                                            </option>
                                        
                                            <option value="iso_6937">
                                                iso_6937
                                            </option>
                                        
                                            <option value="iso_6937-2-25">
                                                iso_6937-2-25
                                            </option>
                                        
                                            <option value="iso_6937-2-add">
                                                iso_6937-2-add
                                            </option>
                                        
                                            <option value="iso_8859-1,gl">
                                                iso_8859-1,gl
                                            </option>
                                        
                                            <option value="iso_8859-supp">
                                                iso_8859-supp
                                            </option>
                                        
                                            <option value="it">
                                                it
                                            </option>
                                        
                                            <option value="jis_c6220-1969-jp">
                                                jis_c6220-1969-jp
                                            </option>
                                        
                                            <option value="jis_c6220-1969-ro">
                                                jis_c6220-1969-ro
                                            </option>
                                        
                                            <option value="jis_c6229-1984-a">
                                                jis_c6229-1984-a
                                            </option>
                                        
                                            <option value="jis_c6229-1984-b">
                                                jis_c6229-1984-b
                                            </option>
                                        
                                            <option value="jis_c6229-1984-b-add">
                                                jis_c6229-1984-b-add
                                            </option>
                                        
                                            <option value="jis_c6229-1984-hand">
                                                jis_c6229-1984-hand
                                            </option>
                                        
                                            <option value="jis_c6229-1984-hand-add">
                                                jis_c6229-1984-hand-add
                                            </option>
                                        
                                            <option value="jis_c6229-1984-kana">
                                                jis_c6229-1984-kana
                                            </option>
                                        
                                            <option value="jis_x0201">
                                                jis_x0201
                                            </option>
                                        
                                            <option value="johab">
                                                johab
                                            </option>
                                        
                                            <option value="jus_i.b1.002">
                                                jus_i.b1.002
                                            </option>
                                        
                                            <option value="jus_i.b1.003-mac">
                                                jus_i.b1.003-mac
                                            </option>
                                        
                                            <option value="jus_i.b1.003-serb">
                                                jus_i.b1.003-serb
                                            </option>
                                        
                                            <option value="koi-8">
                                                koi-8
                                            </option>
                                        
                                            <option value="koi8-r">
                                                koi8-r
                                            </option>
                                        
                                            <option value="koi8-ru">
                                                koi8-ru
                                            </option>
                                        
                                            <option value="koi8-t">
                                                koi8-t
                                            </option>
                                        
                                            <option value="koi8-u">
                                                koi8-u
                                            </option>
                                        
                                            <option value="ks_c_5601-1987">
                                                ks_c_5601-1987
                                            </option>
                                        
                                            <option value="ksc5636">
                                                ksc5636
                                            </option>
                                        
                                            <option value="latin-greek">
                                                latin-greek
                                            </option>
                                        
                                            <option value="latin-greek-1">
                                                latin-greek-1
                                            </option>
                                        
                                            <option value="mac-centraleurope">
                                                mac-centraleurope
                                            </option>
                                        
                                            <option value="mac-cyrillic">
                                                mac-cyrillic
                                            </option>
                                        
                                            <option value="mac-is">
                                                mac-is
                                            </option>
                                        
                                            <option value="mac-sami">
                                                mac-sami
                                            </option>
                                        
                                            <option value="mac-uk">
                                                mac-uk
                                            </option>
                                        
                                            <option value="macintosh">
                                                macintosh
                                            </option>
                                        
                                            <option value="mik">
                                                mik
                                            </option>
                                        
                                            <option value="msz_7795.3">
                                                msz_7795.3
                                            </option>
                                        
                                            <option value="nats-dano">
                                                nats-dano
                                            </option>
                                        
                                            <option value="nats-dano-add">
                                                nats-dano-add
                                            </option>
                                        
                                            <option value="nats-sefi">
                                                nats-sefi
                                            </option>
                                        
                                            <option value="nats-sefi-add">
                                                nats-sefi-add
                                            </option>
                                        
                                            <option value="nc_nc00-10">
                                                nc_nc00-10
                                            </option>
                                        
                                            <option value="nextstep">
                                                nextstep
                                            </option>
                                        
                                            <option value="nf_z_62-010">
                                                nf_z_62-010
                                            </option>
                                        
                                            <option value="nf_z_62-010_1973">
                                                nf_z_62-010_1973
                                            </option>
                                        
                                            <option value="ns_4551-1">
                                                ns_4551-1
                                            </option>
                                        
                                            <option value="ns_4551-2">
                                                ns_4551-2
                                            </option>
                                        
                                            <option value="pt">
                                                pt
                                            </option>
                                        
                                            <option value="pt154">
                                                pt154
                                            </option>
                                        
                                            <option value="pt2">
                                                pt2
                                            </option>
                                        
                                            <option value="rk1048">
                                                rk1048
                                            </option>
                                        
                                            <option value="sami">
                                                sami
                                            </option>
                                        
                                            <option value="sami-ws2">
                                                sami-ws2
                                            </option>
                                        
                                            <option value="sen_850200_b">
                                                sen_850200_b
                                            </option>
                                        
                                            <option value="sen_850200_c">
                                                sen_850200_c
                                            </option>
                                        
                                            <option value="shift_jis">
                                                shift_jis
                                            </option>
                                        
                                            <option value="shift_jisx0213">
                                                shift_jisx0213
                                            </option>
                                        
                                            <option value="t.101-g2">
                                                t.101-g2
                                            </option>
                                        
                                            <option value="t.61-7bit">
                                                t.61-7bit
                                            </option>
                                        
                                            <option value="t.61-8bit">
                                                t.61-8bit
                                            </option>
                                        
                                            <option value="tcvn5712-1">
                                                tcvn5712-1
                                            </option>
                                        
                                            <option value="tis-620">
                                                tis-620
                                            </option>
                                        
                                            <option value="tscii">
                                                tscii
                                            </option>
                                        
                                            <option value="us-ascii">
                                                us-ascii
                                            </option>
                                        
                                            <option value="utf-7">
                                                utf-7
                                            </option>
                                        
                                            <option value="utf-8" selected="">
                                                utf-8
                                            </option>
                                        
                                            <option value="videotex-suppl">
                                                videotex-suppl
                                            </option>
                                        
                                            <option value="viscii">
                                                viscii
                                            </option>
                                        
                                            <option value="windows-1251">
                                                windows-1251
                                            </option>
                                        
                                            <option value="windows-1252">
                                                windows-1252
                                            </option>
                                        
                                            <option value="windows-31j">
                                                windows-31j
                                            </option>
                                        
                                    
                                    </select>
                                </label>
                                <input type="button" onclick="loadfile(this);" class="btn btn-default" value="Re-open" id="btnReOpen">
                            </div>
                            <div class="col-xs-12 col-md-4 action-buttons">
                                <button type="button" class="btn btn-default" id="switch_editor_control" onclick="try {toggle_EditArea(this)} catch(e) {} return false" title="Switch to legacy editor.">Use legacy editor</button>
                                &nbsp;
                                <button type="submit" id="sform_submit" class="btn btn-primary" style="font-weight:bold">
                                    Save Changes
                                </button>
                                <input type="button" onclick="confirm_close(this);" class="btn btn-default" value="Close" id="btnClose">
                            </div>
                        </div>
                    </td>
                </tr>
                <tr class="show-ace-editor">
                    <td>
                        <div class="row">
                            <div class="col-xs-12 col-sm-4">
                                <a href="https://github.com/ajaxorg/ace/wiki/Default-Keyboard-Shortcuts" target="_blank" class="help-link">
                                    <span class="fas fa-external-link-alt"></span>
                                    Keyboard shortcuts
                                </a>
                            </div>
                            <!-- Editor Toolbar -->
                            <div class="col-xs-12 col-sm-8">
                                <div class="btn-toolbar editor-toolbar" role="toolbar">
                                    <div class="btn-group" role="group">
                                        <button id="btnSearch" type="button" onclick="toolbarActions(&#39;search&#39;)" class="btn btn-default" title="Search">
                                            <i class="fas fa-search"></i>
                                        </button>
                                        <button id="btnGoto" type="button" onclick="toolbarActions(&#39;goto&#39;)" class="btn btn-default" title="Go to line.">
                                            <i class="fas fa-terminal"></i>
                                        </button>
                                    </div>
                                    <div class="btn-group" role="group">
                                        <button id="btnUndo" type="button" onclick="toolbarActions(&#39;undo&#39;)" class="btn btn-default" title="Undo">
                                            <i class="fas fa-undo"></i>
                                        </button>
                                        <button id="btnRedo" type="button" onclick="toolbarActions(&#39;redo&#39;)" class="btn btn-default" title="Redo">
                                            <i class="fas fa-redo"></i>
                                        </button>
                                    </div>
                                    <div class="btn-group" role="group">
                                        <button id="btnLineWrap" type="button" onclick="toolbarActions(&#39;linewrap&#39;)" class="btn btn-default" title="Wrap">
                                            <i class="fas fa-arrows-alt-h"></i>
                                        </button>
                                    </div>
                                    <div class="btn-group" role="group">
                                        <select id="ddlFontSizes" class="btn btn-default form-control btn-group-ddl">
                                        <option value="10">10px</option><option value="11">11px</option><option value="12">12px</option><option value="13">13px</option><option value="14">14px</option><option value="16">16px</option><option value="18">18px</option><option value="20">20px</option><option value="24">24px</option></select>
                                    </div>
                                    <div class="btn-group" role="group">
                                        <select id="ddlModes" class="btn btn-default form-control btn-group-ddl">
                                        <option value="abap">ABAP</option><option value="abc">ABC</option><option value="actionscript">ActionScript</option><option value="ada">ADA</option><option value="apache_conf">Apache Conf</option><option value="asciidoc">AsciiDoc</option><option value="assembly_x86">Assembly x86</option><option value="autohotkey">AutoHotKey</option><option value="batchfile">BatchFile</option><option value="bro">Bro</option><option value="c_cpp">C and C++</option><option value="c9search">C9Search</option><option value="cirru">Cirru</option><option value="clojure">Clojure</option><option value="cobol">Cobol</option><option value="coffee">CoffeeScript</option><option value="coldfusion">ColdFusion</option><option value="csharp">C#</option><option value="csound_document">Csound Document</option><option value="csound_orchestra">Csound</option><option value="csound_score">Csound Score</option><option value="css">CSS</option><option value="curly">Curly</option><option value="d">D</option><option value="dart">Dart</option><option value="diff">Diff</option><option value="dockerfile">Dockerfile</option><option value="dot">Dot</option><option value="drools">Drools</option><option value="edifact">Edifact</option><option value="eiffel">Eiffel</option><option value="ejs">EJS</option><option value="elixir">Elixir</option><option value="elm">Elm</option><option value="erlang">Erlang</option><option value="forth">Forth</option><option value="fortran">Fortran</option><option value="ftl">FreeMarker</option><option value="gcode">Gcode</option><option value="gherkin">Gherkin</option><option value="gitignore">Gitignore</option><option value="glsl">Glsl</option><option value="gobstones">Gobstones</option><option value="golang">Go</option><option value="graphqlschema">GraphQLSchema</option><option value="groovy">Groovy</option><option value="haml">HAML</option><option value="handlebars">Handlebars</option><option value="haskell">Haskell</option><option value="haskell_cabal">Haskell Cabal</option><option value="haxe">haXe</option><option value="hjson">Hjson</option><option value="html">HTML</option><option value="html_elixir">HTML (Elixir)</option><option value="html_ruby">HTML (Ruby)</option><option value="ini">INI</option><option value="io">Io</option><option value="jack">Jack</option><option value="jade">Jade</option><option value="java">Java</option><option value="javascript">JavaScript</option><option value="json">JSON</option><option value="jsoniq">JSONiq</option><option value="jsp">JSP</option><option value="jssm">JSSM</option><option value="jsx">JSX</option><option value="julia">Julia</option><option value="kotlin">Kotlin</option><option value="latex">LaTeX</option><option value="less">LESS</option><option value="liquid">Liquid</option><option value="lisp">Lisp</option><option value="livescript">LiveScript</option><option value="logiql">LogiQL</option><option value="lsl">LSL</option><option value="lua">Lua</option><option value="luapage">LuaPage</option><option value="lucene">Lucene</option><option value="makefile">Makefile</option><option value="markdown">Markdown</option><option value="mask">Mask</option><option value="matlab">MATLAB</option><option value="maze">Maze</option><option value="mel">MEL</option><option value="mixal">MIXAL</option><option value="mushcode">MUSHCode</option><option value="mysql">MySQL</option><option value="nix">Nix</option><option value="nsis">NSIS</option><option value="objectivec">Objective-C</option><option value="ocaml">OCaml</option><option value="pascal">Pascal</option><option value="perl">Perl</option><option value="pgsql">pgSQL</option><option value="php">PHP</option><option value="pig">Pig</option><option value="powershell">Powershell</option><option value="praat">Praat</option><option value="prolog">Prolog</option><option value="properties">Properties</option><option value="protobuf">Protobuf</option><option value="python">Python</option><option value="r">R</option><option value="razor">Razor</option><option value="rdoc">RDoc</option><option value="red">Red</option><option value="rhtml">RHTML</option><option value="rst">RST</option><option value="ruby">Ruby</option><option value="rust">Rust</option><option value="sass">SASS</option><option value="scad">SCAD</option><option value="scala">Scala</option><option value="scheme">Scheme</option><option value="scss">SCSS</option><option value="sh">SH</option><option value="sjs">SJS</option><option value="smarty">Smarty</option><option value="snippets">snippets</option><option value="soy_template">Soy Template</option><option value="space">Space</option><option value="sql">SQL</option><option value="sqlserver">SQLServer</option><option value="stylus">Stylus</option><option value="svg">SVG</option><option value="swift">Swift</option><option value="tcl">Tcl</option><option value="tex">Tex</option><option value="text">Text</option><option value="textile">Textile</option><option value="toml">Toml</option><option value="tsx">TSX</option><option value="twig">Twig</option><option value="typescript">Typescript</option><option value="vala">Vala</option><option value="vbscript">VBScript</option><option value="velocity">Velocity</option><option value="verilog">Verilog</option><option value="vhdl">VHDL</option><option value="wollok">Wollok</option><option value="xml">XML</option><option value="xquery">XQuery</option><option value="yaml">YAML</option><option value="django">Django</option></select>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td id="codewindow_container">
                        <!-- Editor -->
                        <div id="codewindow" class="show-ace-editor editor-area ace_editor ace-chrome ace_focus" style="font-size: 13px;" draggable="false"><textarea class="ace_text-input" wrap="off" autocorrect="off" autocapitalize="off" spellcheck="false" style="opacity: 0; left: 297.5px; height: 13px; width: 6.5px; top: 219px;"></textarea><div class="ace_gutter" aria-hidden="true"><div class="ace_layer ace_gutter-layer ace_folding-enabled" style="margin-top: -2px; height: 518px; width: 53px;"><div class="ace_gutter-cell " style="height: 13px;">743<span class="ace_fold-widget ace_start ace_open" style="height: 13px;"></span></div><div class="ace_gutter-cell " style="height: 13px;">744</div><div class="ace_gutter-cell " style="height: 13px;">745</div><div class="ace_gutter-cell " style="height: 13px;">746</div><div class="ace_gutter-cell " style="height: 13px;">747</div><div class="ace_gutter-cell " style="height: 13px;">748</div><div class="ace_gutter-cell " style="height: 13px;">749</div><div class="ace_gutter-cell " style="height: 13px;">750</div><div class="ace_gutter-cell " style="height: 13px;">751<span class="ace_fold-widget ace_start ace_open" style="height: 13px;"></span></div><div class="ace_gutter-cell " style="height: 13px;">752</div><div class="ace_gutter-cell " style="height: 13px;">753</div><div class="ace_gutter-cell " style="height: 13px;">754</div><div class="ace_gutter-cell " style="height: 13px;">755</div><div class="ace_gutter-cell " style="height: 13px;">756</div><div class="ace_gutter-cell " style="height: 13px;">757</div><div class="ace_gutter-cell " style="height: 13px;">758</div><div class="ace_gutter-cell " style="height: 13px;">759<span class="ace_fold-widget ace_start ace_open" style="height: 13px;"></span></div><div class="ace_gutter-cell " style="height: 13px;">760</div><div class="ace_gutter-cell " style="height: 13px;">761</div><div class="ace_gutter-cell  ace_error" style="height: 13px;">762</div><div class="ace_gutter-cell " style="height: 13px;">763</div><div class="ace_gutter-cell " style="height: 13px;">764</div><div class="ace_gutter-cell " style="height: 13px;">765</div><div class="ace_gutter-cell " style="height: 13px;">766<span class="ace_fold-widget ace_start ace_open" style="height: 13px;"></span></div><div class="ace_gutter-cell " style="height: 13px;">767</div><div class="ace_gutter-cell " style="height: 13px;">768</div><div class="ace_gutter-cell " style="height: 13px;">769<span class="ace_fold-widget ace_start ace_open" style="height: 13px;"></span></div><div class="ace_gutter-cell " style="height: 13px;">770</div><div class="ace_gutter-cell " style="height: 13px;">771</div><div class="ace_gutter-cell " style="height: 13px;">772</div><div class="ace_gutter-cell " style="height: 13px;">773</div><div class="ace_gutter-cell " style="height: 13px;">774</div><div class="ace_gutter-cell " style="height: 13px;">775</div><div class="ace_gutter-cell " style="height: 13px;">776</div><div class="ace_gutter-cell " style="height: 13px;">777</div><div class="ace_gutter-cell " style="height: 13px;">778</div><div class="ace_gutter-cell " style="height: 13px;">779</div><div class="ace_gutter-cell " style="height: 13px;">780<span class="ace_fold-widget ace_start ace_open" style="height: 13px;"></span></div><div class="ace_gutter-cell " style="height: 13px;">781</div><div class="ace_gutter-cell " style="height: 13px;">782</div><div class="ace_gutter-cell " style="height: 13px;">783</div></div><div class="ace_gutter-active-line" style="top: 219px; height: 13px;"></div></div><div class="ace_scroller" style="left: 53px; right: 15px; bottom: 15px;"><div class="ace_content" style="margin-top: -2px; width: 4357px; height: 518px; margin-left: 0px;"><div class="ace_layer ace_print-margin-layer"><div class="ace_print-margin" style="left: 524px; visibility: visible;"></div></div><div class="ace_layer ace_marker-layer"><div class="ace_active-line" style="height:13px;top:221px;left:0;right:0;"></div></div><div class="ace_layer ace_text-layer" style="padding: 0px 4px;"><div class="ace_line" style="height:13px"><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span>    <span class="ace_keyword">public</span> <span class="ace_keyword">function</span> <span class="ace_identifier">get_all_task_types</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$comp_id</span><span class="ace_paren ace_rparen">)</span><span class="ace_paren ace_lparen">{</span></div><div class="ace_line" style="height:13px"><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span>    <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">db</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">select</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'*'</span><span class="ace_paren ace_rparen">)</span>;</div><div class="ace_line" style="height:13px"><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span>    <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">db</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">from</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">db</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">dbprefix</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'TASK_TYPE'</span><span class="ace_paren ace_rparen">))</span>;</div><div class="ace_line" style="height:13px"><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span>    <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">db</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">where</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'COMP_ID'</span>,<span class="ace_variable">$comp_id</span><span class="ace_paren ace_rparen">)</span>;</div><div class="ace_line" style="height:13px"><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span>    <span class="ace_variable">$data</span><span class="ace_keyword ace_operator">=</span><span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">db</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">get</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">result_array</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span>;</div><div class="ace_line" style="height:13px"><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span>    <span class="ace_support ace_function">return</span> <span class="ace_variable">$data</span>;</div><div class="ace_line" style="height:13px"><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span>    <span class="ace_paren ace_rparen">}</span></div><div class="ace_line" style="height:13px"><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span>    </div><div class="ace_line" style="height:13px"><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span>    <span class="ace_keyword">public</span> <span class="ace_keyword">function</span> <span class="ace_identifier">get_SEQUENCE</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$task_id</span><span class="ace_paren ace_rparen">)</span><span class="ace_paren ace_lparen">{</span></div><div class="ace_line" style="height:13px"><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span>    <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">db</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">select</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'SEQUENCE'</span><span class="ace_paren ace_rparen">)</span>;</div><div class="ace_line" style="height:13px"><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span>    <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">db</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">from</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">db</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">dbprefix</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'ASSIGN_TASK'</span><span class="ace_paren ace_rparen">))</span>;</div><div class="ace_line" style="height:13px"><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span>    <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">db</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">where</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">"ID"</span>,<span class="ace_variable">$task_id</span><span class="ace_paren ace_rparen">)</span>;</div><div class="ace_line" style="height:13px"><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span>    <span class="ace_variable">$row</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">db</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">get</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">row</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span>;</div><div class="ace_line" style="height:13px"><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span>    <span class="ace_support ace_function">return</span> <span class="ace_paren ace_lparen">(</span><span class="ace_support ace_function">isset</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$row</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">SEQUENCE</span><span class="ace_paren ace_rparen">)</span>?<span class="ace_variable">$row</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">SEQUENCE</span>:<span class="ace_constant ace_numeric">0</span><span class="ace_paren ace_rparen">)</span>;</div><div class="ace_line" style="height:13px"><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span>    <span class="ace_paren ace_rparen">}</span></div><div class="ace_line" style="height:13px"><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span>    </div><div class="ace_line" style="height:13px"><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span>    <span class="ace_keyword">public</span> <span class="ace_keyword">function</span> <span class="ace_identifier">update_SEQUENCE</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$task_id</span>, <span class="ace_variable">$SEQUENCE</span><span class="ace_paren ace_rparen">)</span><span class="ace_paren ace_lparen">{</span></div><div class="ace_line" style="height:13px"><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span>    <span class="ace_variable">$postDatainsert</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_paren ace_lparen">[</span><span class="ace_paren ace_rparen">]</span>;</div><div class="ace_line" style="height:13px"><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span>    <span class="ace_variable">$postDatainsert</span><span class="ace_paren ace_lparen">[</span><span class="ace_string">'SEQUENCE'</span><span class="ace_paren ace_rparen">]</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_variable">$SEQUENCE</span></div><div class="ace_line" style="height:13px"><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span>    <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">db</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">where</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">"ID"</span>,<span class="ace_variable ace_language">$_POST</span><span class="ace_paren ace_lparen">[</span><span class="ace_string">'task_id'</span><span class="ace_paren ace_rparen">])</span>;</div><div class="ace_line" style="height:13px"><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span>    <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">db</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">update</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">db</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">dbprefix</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'ASSIGN_TASK'</span><span class="ace_paren ace_rparen">)</span>, <span class="ace_variable">$postDatainsert</span><span class="ace_paren ace_rparen">)</span>;</div><div class="ace_line" style="height:13px"><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span>    <span class="ace_paren ace_rparen">}</span></div><div class="ace_line" style="height:13px"></div><div class="ace_line" style="height:13px"><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span> <span class="ace_keyword">function</span> <span class="ace_identifier">savetask</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span><span class="ace_paren ace_lparen">{</span></div><div class="ace_line" style="height:13px"><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span>    </div><div class="ace_line" style="height:13px"></div><div class="ace_line" style="height:13px"><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span>  <span class="ace_comment">/*     [assign_task_cust_id] =&gt; 30</span></div><div class="ace_line" style="height:13px"><span class="ace_comment">   [title] =&gt; sd</span></div><div class="ace_line" style="height:13px"><span class="ace_comment">   [customer_assign_task_representative] =&gt; 55</span></div><div class="ace_line" style="height:13px"><span class="ace_comment">   [implevelradio] =&gt; Important</span></div><div class="ace_line" style="height:13px"><span class="ace_comment">   [task_start_date] =&gt; 25/12/2018</span></div><div class="ace_line" style="height:13px"><span class="ace_comment">   [task_end_date] =&gt; 26/12/2018</span></div><div class="ace_line" style="height:13px"><span class="ace_comment">   [customer_assign_task_note] =&gt; tests */</span></div><div class="ace_line" style="height:13px">    <span class="ace_variable">$start_date</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_support ace_function">date</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">"Y-m-d"</span>,<span class="ace_support ace_function">strtotime</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable ace_language">$_POST</span><span class="ace_paren ace_lparen">[</span><span class="ace_string">'task_start_date'</span><span class="ace_paren ace_rparen">]))</span>;</div><div class="ace_line" style="height:13px">    <span class="ace_variable">$end_date</span><span class="ace_keyword ace_operator">=</span> <span class="ace_support ace_function">date</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">"Y-m-d"</span>,<span class="ace_support ace_function">strtotime</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable ace_language">$_POST</span><span class="ace_paren ace_lparen">[</span><span class="ace_string">'task_end_date'</span><span class="ace_paren ace_rparen">]))</span>;</div><div class="ace_line" style="height:13px">   <span class="ace_variable">$check</span><span class="ace_keyword ace_operator">=</span><span class="ace_string">''</span>;</div><div class="ace_line" style="height:13px"><span class="ace_indent-guide">    </span>  <span class="ace_keyword">if</span><span class="ace_paren ace_lparen">(</span><span class="ace_support ace_function">isset</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable ace_language">$_POST</span><span class="ace_paren ace_lparen">[</span><span class="ace_string">'inspection'</span><span class="ace_paren ace_rparen">]))</span></div><div class="ace_line" style="height:13px"><span class="ace_indent-guide">    </span>  <span class="ace_paren ace_lparen">{</span></div><div class="ace_line" style="height:13px"><span class="ace_indent-guide">    </span>    <span class="ace_variable">$check</span>.<span class="ace_keyword ace_operator">=</span><span class="ace_constant ace_numeric">1</span>;</div></div><div class="ace_layer ace_marker-layer"></div><div class="ace_layer ace_cursor-layer"><div class="ace_cursor" style="left: 244.5px; top: 221px; width: 6.5px; height: 13px;"></div></div></div><div class="ace_search right"><span action="hide" class="ace_searchbtn_close"></span><div class="ace_search_form"><input class="ace_search_field" placeholder="Search for" spellcheck="false"><span action="findPrev" class="ace_searchbtn prev"></span><span action="findNext" class="ace_searchbtn next"></span><span action="findAll" class="ace_searchbtn" title="Alt-Enter">All</span></div><div class="ace_replace_form" style="display: none;"><input class="ace_search_field" placeholder="Replace with" spellcheck="false"><span action="replaceAndFindNext" class="ace_searchbtn">Replace</span><span action="replaceAll" class="ace_searchbtn">All</span></div><div class="ace_search_options"><span action="toggleReplace" class="ace_button" title="Toggle Replace mode" style="float:left;margin-top:-2px;padding:0 5px;">+</span><span class="ace_search_counter">33 of 55</span><span action="toggleRegexpMode" class="ace_button" title="RegExp Search">.*</span><span action="toggleCaseSensitive" class="ace_button" title="CaseSensitive Search">Aa</span><span action="toggleWholeWords" class="ace_button" title="Whole Word Search">\b</span><span action="searchInSelection" class="ace_button" title="Search In Selection">S</span></div></div></div><div class="ace_scrollbar ace_scrollbar-v" style="width: 20px; bottom: 15px;"><div class="ace_scrollbar-inner" style="width: 20px; height: 21346px;"></div></div><div class="ace_scrollbar ace_scrollbar-h" style="height: 20px; left: 53px; right: 15px;"><div class="ace_scrollbar-inner" style="height: 20px; width: 4357px;"></div></div><div style="height: auto; width: auto; top: 0px; left: 0px; visibility: hidden; position: absolute; white-space: pre; font: inherit; overflow: hidden;"><div style="height: auto; width: auto; top: 0px; left: 0px; visibility: hidden; position: absolute; white-space: pre; font: inherit; overflow: visible;"></div><div style="height: auto; width: auto; top: 0px; left: 0px; visibility: hidden; position: absolute; white-space: pre; font-style: inherit; font-variant: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; overflow: visible;">XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX</div></div></div>
                        <textarea id="legacy_codewindow" class="codepress " style="visibility:hidden" wrap="soft" name="page"></textarea>
                    </td>
                </tr>
            </tbody></table>
        </form>

        <script type="text/plain" id="general_encoding_changed_template">
            <p>
                The system was unable to save your document in “{old_charset}” encoding. Most likely, your document contains characters incompatible with “{old_charset}”.
            </p>

            <p>
                cPanel has upgraded your document to “{new_charset}” encoding. Please verify that the file opens correctly in your application.
            </p>

            <p>
                To learn more about file encoding, visit <a href="https://go.cpanel.net/encoding">https://go.cpanel.net/encoding</a>.
            </p>
        </script>

        

<img src="./Customer_model.php - cPanel File Manager v3_files/progress_bar.gif" class="preloadedImage">
<img src="./Customer_model.php - cPanel File Manager v3_files/check.png" class="preloadedImage">

<script id="cjt_error_dialog_template" type="text/plain">
<div class="error_notice">{error_html}</div>
</script>

<script id="cjt_http_error_dialog_template" type="text/plain">
<div class="error_notice http_error_notice">
    <div class="http_status">{status}: {status_text_html}</div>
    <div><a href="javascript:void(0)" class="http_error_details_link">Show/Hide Details</a></div>
    <div class="cjt_error_details" style="display:none">
        <div class="url">URL ({method}):<pre>{url_html}</pre></div>
        <div class="post">Body: <pre>{post_html}</pre></div>
        <div class="response">Response:<pre>{response_html}</pre></div>
    </div>
</div>
</script>

<script>
CPANEL.application = "cpaneld";
YAHOO.lang.augmentObject( CPANEL.Locale.prototype.LEXICON, {"OK":"OK","Success!":"Success!","Notice":"Notice","An unknown error occurred.":"An unknown error occurred.","Proceed":"Proceed","Error":"Error","ERROR":"ERROR","Processing …":"Processing …","Cancel":"Cancel","HTTP ERROR":"HTTP ERROR"} );
</script>

<script src="./Customer_model.php - cPanel File Manager v3_files/ajaxapp-min.js"></script>


        <script type="text/javascript">
            var savedContent = "";
            var CHARSET = document.sform.charset.value;
            var USE_LEGACY_EDITOR = (0) ? true : false;
            if ( !window.LEXICON ) {
                LEXICON = {};
            }

            LEXICON.charset_changed = "Character Encoding Change";
            LEXICON.confirm_close   = "You have unsaved changes. Are you sure you want to close this window?";
            LEXICON.reloading       = "Reloading…";

            function loadfile(clicked_el) {
                var isFileEdited = false;
                if(ace_editor){
                    isFileEdited = !ace_editor.getSession().getUndoManager().isClean();
                }

                if(isFileEdited){
                    var sure = confirm("Are you sure you wish to open a new file? You will lose any changes you have made.");
                    if (!sure) {
                        return;
                    }
                }

                var filen = document.sform.path.value;
                var fpath = filen.split('/');;
                var filename = fpath.pop();
                var dir = fpath.join('/');
                var sdir = encodeURIComponent(dir);
                var sfilename = encodeURIComponent(filename);
                var charset = document.getElementById('charset').value;

                var pp = new CPANEL.ajax.Progress_Panel( DOM.generateId(), {
                    status_html : "Reloading…",
                    effect: CPANEL.ajax.FADE_MODAL
                } );

                if (clicked_el) {
                    pp.show_from_source(clicked_el);
                }
                else {
                    pp.show();
                }
                var tt_value = (USE_LEGACY_EDITOR) ? 1 : 0;
                document.location.href="?dir=" + sdir + "&file=" + sfilename + '&file_charset=' + charset + '&use_legacy_editor=' + tt_value;
                // update the title
                document.title = filename.replace(/\n|\r/, "").html_encode() + " - cPanel File Manager v3"
            }

            var LAST_NOTICE = null;

            function loadfdata(clicked_el) {
                var path     = DOM.get("path");
                var changedContent = "";
                var isFileEdited = true;
                if(USE_LEGACY_EDITOR){
                    changedContent = editAreaLoader.getValue(editAreaEl);
                } else {
                    var aceSession = ace_editor.getSession();
                    changedContent = aceSession.getValue();
                }

                if ( changedContent === savedContent && path.value === path.defaultValue ) {
                    isFileEdited = false;
                }

                if(!isFileEdited) {
                    LAST_NOTICE = new CPANEL.ajax.Dynamic_Notice({content:"You have made no changes to save.", level:"info", replaces:LAST_NOTICE});
                    return;
                }

                var match = path.value.match(/^(.+)\/([^\/]+)$/);
                if ( !match ) {
                    LAST_NOTICE = new CPANEL.ajax.Dynamic_Notice({content:"Invalid path.", level:"error", replaces:LAST_NOTICE});
                    return;
                }

                var api_params = {
                    module:   "Fileman",
                    func:     "savefile",
                    data:     {
                        dir:           match[1],
                        filename:      match[2],
                        content:       changedContent,
                        utf8_fallback: 1,
                        charset:       CHARSET
                    },
                    progress_panel: {
                        zIndex:      2500,
                        show_status: true,
                        source_el:   clicked_el,
                        status_html: "Saving “{the_file}” …".replace('{the_file}',match[2].html_encode()),
                        success_notice_options: { replaces:LAST_NOTICE },
                        before_success: function(result) {
                            savedContent = (USE_LEGACY_EDITOR) ? editAreaLoader.getValue(editAreaEl) : ace_editor.getValue();
                            return check_for_encoding_change.call(
                                this,
                                CPANEL.ajax.templates.general_encoding_changed_template,
                                result.cpanel_data
                            );
                        }
                    },
                    callback: {
                        success: function() { LAST_NOTICE = req.notice }
                    }
                };

                var req = CPANEL.api( api_params );

                return false;
            }
        </script>

        <script type="text/javascript" charset="utf-8" src="./Customer_model.php - cPanel File Manager v3_files/ace.js">
        </script>
        <script type="text/javascript" charset="utf-8" src="./Customer_model.php - cPanel File Manager v3_files/ext-modelist.js">
        </script>
        <script type="text/javascript" src="./Customer_model.php - cPanel File Manager v3_files/edit_area_full.js"></script>
        <script type="text/javascript" src="./Customer_model.php - cPanel File Manager v3_files/edit_area_resizer.js"></script>

        <script type="text/javascript" src="./Customer_model.php - cPanel File Manager v3_files/jquery-3.2.0.min.js"></script>
        <script>
        
        var file_content = "&lt;?php\n\n    class Customer_model extends CI_Model\n    {\n        public function __construct()\n        {\n            $this -&gt; load -&gt; database();\n      //$this-&gt;db-&gt;set_dbprefix(&#39;CRM_&#39;);\n        }\n\n        //-------------- Start-----------\n                 public function UpdateCustomerStatus($input_method)\n                 {\n                   if (trim($input_method[&#39;status&#39;]) == &quot;1&quot;) {\n                       $text = &quot;In-Active&quot;;\n                       $process_status = &quot;0&quot;;\n                       $update_arr = array(&quot;CUST_STATUS&quot; =&gt; &quot;0&quot;,\n\n                       );\n                   } elseif (trim($input_method[&#39;status&#39;]) == &quot;0&quot;) {\n                       $text = &quot;Active&quot;;\n                       $process_status = &quot;1&quot;;\n                       $update_arr = array(&quot;CUST_STATUS&quot; =&gt; &quot;1&quot;,\n                           //&quot;status&quot; =&gt; &quot;OFFLINE&quot;\n                       );\n                   }\n                     $this -&gt; db -&gt; where(&quot;CUSTOMER_ID&quot;, $input_method[&#39;id&#39;]);\n                     $update=  $this -&gt; db -&gt; update(&quot;CRM_CUSTOMER&quot;, $update_arr);\n                    // echo $this-&gt;db-&gt;last_query();\n                     if ($update) {\n                         return array(\n                           &quot;status&quot; =&gt; 1,\n                           &quot;message&quot; =&gt; &quot;success&quot;,\n                           &quot;process_status&quot; =&gt; $process_status,\n                           &quot;text&quot; =&gt; $text\n                       );\n                     } else {\n                         return array(\n                           &quot;status&quot; =&gt; 0,\n                           &quot;message&quot; =&gt; &quot;success&quot;,\n                           &quot;process_status&quot; =&gt; $process_status,\n                           &quot;text&quot; =&gt; $text\n                       );\n                     }\n                 }\n\n\n                 public function get_all_occupation($comp_id){\n                    $this-&gt;db-&gt;select(&#39;*&#39;);\n                      $this-&gt;db-&gt;where(&#39;OCC_STATUS&#39;,1);\n                    $this-&gt;db-&gt;from($this-&gt;db-&gt;dbprefix(&#39;OCCUPATION&#39;));\n                    $this-&gt;db-&gt;where(&#39;COMP_ID&#39;,$comp_id);\n                    $data=$this-&gt;db-&gt;get()-&gt;result_array();\n                    return $data;\n                 }\n\n                 public function get_occupation_by_id($id){\n                    $this-&gt;db-&gt;select(&#39;*&#39;);\n                    $this-&gt;db-&gt;from($this-&gt;db-&gt;dbprefix(&#39;OCCUPATION&#39;));\n                    $this-&gt;db-&gt;where(&#39;OCC_ID&#39;,$id);\n                    $data=$this-&gt;db-&gt;get()-&gt;row();\n                    return $data;\n                 }\n\n                 public function get_all_pipeline_stage($comp_id){\n                    $this-&gt;db-&gt;select(&#39;*&#39;);\n                      $this-&gt;db-&gt;where(&#39;PIP_STATUS&#39;,1);\n                    $this-&gt;db-&gt;from($this-&gt;db-&gt;dbprefix(&#39;PIPELINE_STAGE&#39;));\n                    $this-&gt;db-&gt;where(&#39;COMP_ID&#39;,$comp_id);\n                    $data=$this-&gt;db-&gt;get()-&gt;result_array();\n                    return $data;\n                 }\n\n\n                 public function get_all_branch($comp_id){\n                    $this-&gt;db-&gt;select(&#39;*&#39;);\n                      $this-&gt;db-&gt;where(&#39;BRANCH_STATUS&#39;,1);\n                    $this-&gt;db-&gt;from($this-&gt;db-&gt;dbprefix(&#39;BRANCH&#39;));\n                    $this-&gt;db-&gt;where(&#39;COMP_ID&#39;,$comp_id);\n                    $data=$this-&gt;db-&gt;get()-&gt;result_array();\n                    return $data;\n                 }\n\n                 public function get_all_province($comp_id){\n                    $this-&gt;db-&gt;select(&#39;*&#39;);\n                    $this-&gt;db-&gt;where(&quot;PROV_STATUS&quot;,&quot;1&quot;);\n                    $this-&gt;db-&gt;from($this-&gt;db-&gt;dbprefix(&#39;PROVINCE&#39;));\n                    $this-&gt;db-&gt;where(&#39;COMP_ID&#39;,$comp_id);\n                    $data=$this-&gt;db-&gt;get()-&gt;result_array();\n                    return $data;\n                 }\n                 function GetBranchProvince($branch_id){\n                   $query = &quot;SELECT CRM_PROVINCE.PROV_ID,PROV_NAME FROM `CRM_BRANCH` join CRM_PROVINCE on CRM_BRANCH.PROV_ID=CRM_PROVINCE.PROV_ID WHERE CRM_BRANCH.BRANCH_ID=$branch_id&quot;;\n                   $res= $this-&gt;db-&gt;query($query);\n                   if($res-&gt;num_rows()&gt;0)\n                   {\n                     return $res-&gt;result_array();\n                   }else{\n                     return false;\n                   }\n\n                 }\n\n                 public function get_all_building_type($comp_id){\n                    $this-&gt;db-&gt;select(&#39;*&#39;);\n                    $this-&gt;db-&gt;where(&quot;BUILD_STATUS&quot;,&quot;1&quot;);\n                    $this-&gt;db-&gt;from($this-&gt;db-&gt;dbprefix(&#39;BUILDING&#39;));\n                    $this-&gt;db-&gt;where(&#39;COMP_ID&#39;,$comp_id);\n                    $data=$this-&gt;db-&gt;get()-&gt;result_array();\n                    return $data;\n                 }\n\n                 public function get_all_service_type($comp_id){\n                    $this-&gt;db-&gt;select(&#39;*&#39;);\n                    $this-&gt;db-&gt;where(&quot;SERV_STATUS&quot;,&quot;1&quot;);\n                    $this-&gt;db-&gt;from($this-&gt;db-&gt;dbprefix(&#39;SERVICE&#39;));\n                    $this-&gt;db-&gt;where(&#39;COMP_ID&#39;,$comp_id);\n\n                    $data=$this-&gt;db-&gt;get()-&gt;result_array();\n                    return $data;\n                 }\n\n                 public function get_all_status($comp_id){\n                    $this-&gt;db-&gt;select(&#39;*&#39;);\n                      $this-&gt;db-&gt;where(&quot;STAT_STATUS&quot;,&quot;1&quot;);\n                    $this-&gt;db-&gt;from($this-&gt;db-&gt;dbprefix(&#39;STATUS&#39;));\n                    $this-&gt;db-&gt;where(&#39;COMP_ID&#39;,$comp_id);\n                    $data=$this-&gt;db-&gt;get()-&gt;result_array();\n                    return $data;\n                 }\n\n                 public function get_all_active_customer(){\n                    $status=1;\n                    $this-&gt;db-&gt;select(&#39;*&#39;);\n                    $this-&gt;db-&gt;where(&#39;CUST_STATUS&#39;,$status);\n                    $this-&gt;db-&gt;where(&#39;COMP_ID&#39;,$this-&gt;session-&gt;userdata(&#39;comp_id&#39;));\n                    $this-&gt;db-&gt;from($this-&gt;db-&gt;dbprefix(&#39;CUSTOMER&#39;));\n                    $data=$this-&gt;db-&gt;get()-&gt;result_array();\n                    return $data;\n                 }\n\n                 public function get_all_active_network(){\n                    $status=1;\n                    $this-&gt;db-&gt;select(&#39;*&#39;);\n                    $this-&gt;db-&gt;where(&#39;NETWORK_STATUS&#39;,$status);\n                    $this-&gt;db-&gt;where(&#39;COMP_ID&#39;,$this-&gt;session-&gt;userdata(&#39;comp_id&#39;));\n                    $this-&gt;db-&gt;from($this-&gt;db-&gt;dbprefix(&#39;NETWORK&#39;));\n                    $data=$this-&gt;db-&gt;get()-&gt;result_array();\n                    return $data;\n                 }\n\n                 public function get_all_active_lead_source(){\n                   $this-&gt;db-&gt;select(&#39;*&#39;);\n                    $this-&gt;db-&gt;from($this-&gt;db-&gt;dbprefix(&#39;LEAD_SOURCE&#39;));\n                    $this-&gt;db-&gt;where(&#39;COMP_ID&#39;,$this-&gt;session-&gt;userdata(&#39;comp_id&#39;));\n                    $this-&gt;db-&gt;where(&#39;STATUS&#39;,1);\n                    $data=$this-&gt;db-&gt;get()-&gt;result_array();\n                    return $data;\n                 }\n         \n         \n\n                 function Get_all_customer($comp_id){\n\n                   $service= $this-&gt;input-&gt;post(&#39;service&#39;);\n                   $branch  = $this-&gt;input-&gt;post(&#39;branch&#39;);\n                   $name= $this-&gt;input-&gt;post(&#39;name&#39;);\n                   $date= $this-&gt;input-&gt;post(&#39;date&#39;);\n                   $status = $this-&gt;input-&gt;post(&#39;status&#39;);\n                   $date_range= explode(&quot;-&quot;,$date);\n\n                   if($service!=&#39;&#39; &amp;&amp; $service!=0){\n                     $this-&gt;db-&gt;where_in(&quot;CRM_CUSTOMER.SERV_ID&quot;,$service);\n                   }\n                   if($branch!=&#39;&#39; &amp;&amp; $branch!=0){\n                     $this-&gt;db-&gt;where_in(&quot;CRM_CUSTOMER.BRANCH_ID&quot;,$branch);\n                   }\n                   if($date!=&#39;&#39;){\n\n                     $this-&gt;db-&gt;where(&quot;date(CRM_CUSTOMER.CREATE_DATE) &gt;=&quot;,trim(date(&#39;Y-m-d&#39;,strtotime($date_range[0]))));\n                     $this-&gt;db-&gt;where(&quot;date(CRM_CUSTOMER.CREATE_DATE) &lt;=&quot;,trim(date(&#39;Y-m-d&#39;,strtotime($date_range[1]))));\n\n                   }\n                   if($name!=&#39;&#39;){\n                     $this-&gt;db-&gt;like(&quot;CRM_CUSTOMER.CUSTOMER_NAME&quot;,$name,&quot;%&quot;);\n                   }\n                   if($status!=&#39;&#39;){\n                  //  echo &quot;====&gt;Priyanka=====&quot;;\n                     $this-&gt;db-&gt;where_in(&quot;CRM_CUSTOMER.STAT_ID&quot;,$status);\n                   }\n\n                   $this-&gt;db-&gt;select(&#39;CRM_CUSTOMER.*,CRM_USER.USER_NAME,\n                   CRM_SERVICE.SERV_NAME,CRM_BRANCH.BRANCH_NAME,\n                   CRM_LEAD_SOURCE.LD_SRC_NAME,CRM_NETWORK.COMP_NAME,STAT_NAME&#39;);\n                   $this-&gt;db-&gt;from($this-&gt;db-&gt;dbprefix(&#39;CUSTOMER&#39;));\n           \n                   $this-&gt;db-&gt;join(&quot;CRM_USER&quot;,&quot;CRM_USER.USER_ID=CRM_CUSTOMER.CREATE_BY&quot;);\n                   $this-&gt;db-&gt;JOIN(&quot;CRM_BRANCH&quot;,&quot;CRM_BRANCH.BRANCH_ID=CRM_CUSTOMER.BRANCH_ID&quot;);\n                   $this-&gt;db-&gt;JOIN(&quot;CRM_SERVICE&quot;,&quot;CRM_SERVICE.SERV_ID=CRM_CUSTOMER.SERV_ID&quot;);\n                   $this-&gt;db-&gt;JOIN(&quot;CRM_LEAD_SOURCE&quot;,&quot;CRM_LEAD_SOURCE.LD_SRC_ID=CRM_CUSTOMER.SOURCE_NAME&quot;,&quot;LEFT&quot;);\n                   $this-&gt;db-&gt;JOIN(&quot;CRM_NETWORK&quot;,&quot;CRM_NETWORK.NETWORK_ID=CRM_CUSTOMER.SOURCE_NAME&quot;,&quot;LEFT&quot;);\n                   $this-&gt;db-&gt;JOIN(&quot;CRM_STATUS&quot;,&quot;CRM_STATUS.STAT_ID=CRM_CUSTOMER.STAT_ID&quot;,&quot;LEFT&quot;);\n                   // $this-&gt;db-&gt;where(&#39;CUST_STATUS&#39;,1);\n                   $this-&gt;db-&gt;where(&#39;CRM_CUSTOMER.COMP_ID&#39;,$this-&gt;session-&gt;userdata(&#39;comp_id&#39;));\n                   $this-&gt;db-&gt;order_by(&quot;CRM_CUSTOMER.CUSTOMER_ID&quot;,&quot;desc&quot;);\n                   $data=$this-&gt;db-&gt;get()-&gt;result_array();\n                //   echo $this-&gt;db-&gt;last_query();\n                   //exit;\n                   return $data;\n\n                 }\n\n                 function GetAllCustomer($comp_id){\n\n                   $this-&gt;db-&gt;select(&#39;*&#39;);\n                   $this-&gt;db-&gt;from($this-&gt;db-&gt;dbprefix(&#39;CUSTOMER&#39;));\n                   // $this-&gt;db-&gt;join(&quot;CRM_USER&quot;,&quot;CRM_USER.USER_ID=CRM_CUSTOMER.CREATE_BY&quot;);\n                   // $this-&gt;db-&gt;JOIN(&quot;CRM_BRANCH&quot;,&quot;CRM_BRANCH.BRANCH_ID=CRM_CUSTOMER.BRANCH_ID&quot;);\n                   // $this-&gt;db-&gt;JOIN(&quot;CRM_SERVICE&quot;,&quot;CRM_SERVICE.SERV_ID=CRM_CUSTOMER.SERV_ID&quot;);\n                   // $this-&gt;db-&gt;JOIN(&quot;CRM_LEAD_SOURCE&quot;,&quot;CRM_LEAD_SOURCE.LD_SRC_ID=CRM_CUSTOMER.SOURCE_NAME&quot;);\n                   // $this-&gt;db-&gt;JOIN(&quot;CRM_NETWORK&quot;,&quot;CRM_NETWORK.NETWORK_ID=CRM_CUSTOMER.SOURCE_NAME&quot;);\n                   // //$this-&gt;db-&gt;where(&#39;CUST_STATUS&#39;,1);\n                   $this-&gt;db-&gt;where(&#39;CRM_CUSTOMER.COMP_ID&#39;,$this-&gt;session-&gt;userdata(&#39;comp_id&#39;));\n                    $this-&gt;db-&gt;order_by(&quot;CRM_CUSTOMER.CUSTOMER_ID&quot;,&quot;desc&quot;);\n\n                   $data=$this-&gt;db-&gt;get()-&gt;row_array();\n                  // echo $this-&gt;db-&gt;last_query();\n                   return $data;\n\n                 }\n\n                 function GetAll_Customer($comp_id){\n\n                   $this-&gt;db-&gt;select(&#39;CUSTOMER_ID,CUSTOMER_NAME&#39;);\n                   $this-&gt;db-&gt;from($this-&gt;db-&gt;dbprefix(&#39;CUSTOMER&#39;));\n                   $this-&gt;db-&gt;where(&#39;CRM_CUSTOMER.COMP_ID&#39;,$this-&gt;session-&gt;userdata(&#39;comp_id&#39;));\n                   return $this-&gt;db-&gt;get()-&gt;result_array();\n                 }\n\n\n                 public function get_customer_by_id($id){\n                    $this-&gt;db-&gt;select(&#39;CRM_CUSTOMER.*,CRM_STATUS.STAT_NAME,CRM_PROVINCE.PROV_NAME,CRM_USER.USER_NAME,CRM_SERVICE.SERV_NAME,CRM_BRANCH.BRANCH_NAME,CRM_LEAD_SOURCE.LD_SRC_NAME,CRM_NETWORK.COMP_NAME,cust_ref.CUSTOMER_NAME as customer_source_name&#39;);\n                    $this-&gt;db-&gt;from($this-&gt;db-&gt;dbprefix(&#39;CUSTOMER&#39;));\n                    $this-&gt;db-&gt;join(&quot;CRM_USER&quot;,&quot;CRM_USER.USER_ID=CRM_CUSTOMER.CREATE_BY&quot;);\n                    $this-&gt;db-&gt;JOIN(&quot;CRM_BRANCH&quot;,&quot;CRM_BRANCH.BRANCH_ID=CRM_CUSTOMER.BRANCH_ID&quot;);\n                    $this-&gt;db-&gt;JOIN(&quot;CRM_SERVICE&quot;,&quot;CRM_SERVICE.SERV_ID=CRM_CUSTOMER.SERV_ID&quot;);\n                    $this-&gt;db-&gt;JOIN(&quot;CRM_LEAD_SOURCE&quot;,&quot;CRM_LEAD_SOURCE.LD_SRC_ID=CRM_CUSTOMER.SOURCE_NAME&quot;,&quot;LEFT&quot;);\n                    $this-&gt;db-&gt;JOIN(&quot;CRM_NETWORK&quot;,&quot;CRM_NETWORK.NETWORK_ID=CRM_CUSTOMER.SOURCE_NAME&quot;,&quot;LEFT&quot;);\n                    $this-&gt;db-&gt;JOIN(&quot;CRM_CUSTOMER as cust_ref&quot;,&quot;cust_ref.CUSTOMER_ID=CRM_CUSTOMER.SOURCE_NAME&quot;,&quot;LEFT&quot;);\n                    $this-&gt;db-&gt;JOIN(&quot;CRM_PROVINCE&quot;,&quot;CRM_PROVINCE.PROV_ID=CRM_CUSTOMER.PROV_ID&quot;,&quot;LEFT&quot;);\n                    $this-&gt;db-&gt;JOIN(&quot;CRM_STATUS&quot;,&quot;CRM_STATUS.STAT_ID=CRM_CUSTOMER.STAT_ID&quot;,&quot;LEFT&quot;);\n                    $this-&gt;db-&gt;where(&#39;CRM_CUSTOMER.CUSTOMER_ID&#39;,$id);\n                    $data=$this-&gt;db-&gt;get()-&gt;row();\n                //  echo $this-&gt;db-&gt;last_query();\n                    return $data;\n                 }\n\n                 public function get_all_document_type($comp_id){\n                    $this-&gt;db-&gt;select(&#39;*&#39;);\n                    $this-&gt;db-&gt;from($this-&gt;db-&gt;dbprefix(&#39;DOCUMENT_TYPE&#39;));\n                    $this-&gt;db-&gt;where(&#39;COMP_ID&#39;,$comp_id);\n                     $this-&gt;db-&gt;where(&#39;DOC_TYPE_STATUS&#39;,1);\n                    $data=$this-&gt;db-&gt;get()-&gt;result_array();\n                    return $data;\n                 }\n\n                 public function get_customer_all_docs($id){\n                    $this-&gt;db-&gt;select(&#39;CRM_CUSTOMER_DOCS.*,CRM_USER.USER_NAME,CRM_DOCUMENT_TYPE.DOC_TYPE_NAME&#39;);\n                    $this-&gt;db-&gt;from($this-&gt;db-&gt;dbprefix(&#39;CUSTOMER_DOCS&#39;));\n                    $this-&gt;db-&gt;JOIN(&quot;CRM_USER&quot;,&quot;CRM_USER.USER_ID=CRM_CUSTOMER_DOCS.CREATE_BY&quot;);\n                    $this-&gt;db-&gt;join(&quot;CRM_DOCUMENT_TYPE&quot;,&quot;CRM_DOCUMENT_TYPE.DOC_TYPE_ID=CRM_CUSTOMER_DOCS.DOC_TYPE_ID&quot;);\n                    $this-&gt;db-&gt;where(&#39;CUSTOMER_ID&#39;,$id);\n                      $this-&gt;db-&gt;where(&#39;CRM_CUSTOMER_DOCS.STATUS&#39;,&quot;1&quot;);\n                    $data=$this-&gt;db-&gt;get()-&gt;result_array();\n                    return $data;\n                 }\n\n                 public function get_customer_all_collection($id){\n                    $this-&gt;db-&gt;select(&#39;CUSTOMER_ESTIMATE.*&#39;);\n                    $this-&gt;db-&gt;from($this-&gt;db-&gt;dbprefix(&#39;CUSTOMER_ESTIMATE&#39;));\n                    $this-&gt;db-&gt;where(&quot;CUST_EST_STATUS&quot;,&quot;1&quot;);\n                    $this-&gt;db-&gt;where(&#39;CRM_CUSTOMER_ESTIMATE.CUSTOMER_ID&#39;,$id);\n                    $data=$this-&gt;db-&gt;get()-&gt;result_array();\n                    return $data;\n                 }\n                \n                 public function get_customer_all_collection_records($id){\n                    $this-&gt;db-&gt;select(&#39;*&#39;);\n                    $this-&gt;db-&gt;from($this-&gt;db-&gt;dbprefix(&#39;CUSTOMER_COLLECTION_RECORDS&#39;));\n                    $this-&gt;db-&gt;where(&#39;CUSTOMER_ID&#39;,$id);\n                    $data=$this-&gt;db-&gt;get()-&gt;result_array();\n                    return $data;\n                 }\n\n\n                 public function get_customer_all_chat_history($id){\n                    $this-&gt;db-&gt;select(&#39;CRM_CUSTOMER_CONTACT_HISTORY.*,CRM_USER.USER_NAME&#39;);\n                    $this-&gt;db-&gt;from($this-&gt;db-&gt;dbprefix(&#39;CUSTOMER_CONTACT_HISTORY&#39;));\n                    $this-&gt;db-&gt;join(&#39;CRM_USER&#39;,&quot;CRM_CUSTOMER_CONTACT_HISTORY.CREATE_BY=CRM_USER.USER_ID&quot;,&quot;left&quot;);\n                    $this-&gt;db-&gt;where(&#39;CUSTOMER_ID&#39;,$id);\n                    $this-&gt;db-&gt;order_by(&#39;CONTACT_DATE&#39;,&quot;desc&quot;);\n                    $data=$this-&gt;db-&gt;get()-&gt;result_array();\n                    return $data;\n                 }\n\n                 // get all get_customer_all_hat_history end\n\n                 // get all get_customer_all_assign_task start\n\n                public function get_customer_all_assign_task($id){\n\n                    $query = &quot;SELECT ID, ASSIGN_TASK_SNO,LEVEL,CUSTOMER_ID,TITLE,CRM_USER.USER_NAME,CRM_ASSIGN_TASK.STATUS,NOTES,START_DATE,DUE_DATE,create_user.USER_NAME as create_by\n                    FROM CRM_ASSIGN_TASK\n                    join CRM_USER on CRM_USER.USER_ID=CRM_ASSIGN_TASK.REPRESENTATIVE\n                    join CRM_USER as create_user on create_user.USER_ID=CRM_ASSIGN_TASK.CREATE_BY\n\n                    where CUSTOMER_ID=$id order by CRM_ASSIGN_TASK.ID desc &quot; ;\n                    $query  = $this-&gt;db-&gt;query($query);\n                    if($query-&gt;num_rows()&gt;0)\n                    {\n                    return $query-&gt;result_array();\n                    } else{\n                     return false;\n                    }\n\n\n\n                    return $data;\n                }\n\n                 // get all get_customer_all_estimate end\n\n                  public function get_estimate_by_id($id){\n                    $this-&gt;db-&gt;select(&#39;*&#39;);\n                    $this-&gt;db-&gt;from($this-&gt;db-&gt;dbprefix(&#39;CUSTOMER_ESTIMATE&#39;));\n                    $this-&gt;db-&gt;where(&#39;ESTIMATE_ID&#39;,$id);\n                    $data=$this-&gt;db-&gt;get()-&gt;row();\n                    return $data;\n                 }\n\n                 // get all get_customer_all_estimate bi estimate id and customer id end\n\n                  public function get_estimate_by_estimate_id_and_customer_id($cust_id){\n                    $this-&gt;db-&gt;select(&#39;*&#39;);\n                    $this-&gt;db-&gt;from($this-&gt;db-&gt;dbprefix(&#39;CUSTOMER_ESTIMATE&#39;));\n                    $this-&gt;db-&gt;where(&#39;CUSTOMER_ID&#39;,$cust_id);\n                    $data=$this-&gt;db-&gt;get()-&gt;result_array();\n                    return $data;\n                 }\n\n                //get all my events\n                public function get_my_events($user_id){\n                    $this-&gt;db-&gt;select(&#39;*&#39;);\n                    $this-&gt;db-&gt;from($this-&gt;db-&gt;dbprefix(&#39;EVENT&#39;));\n                    $this-&gt;db-&gt;where(&#39;created_by&#39;,$user_id);\n                    $this-&gt;db-&gt;where(&quot;created_on &gt;=&quot;, &#39;CURDATE()&#39;, FALSE);\n                    $data=$this-&gt;db-&gt;get()-&gt;result_array();\n                    return $data;\n                 }\n\n                //get all date my events\n                public function get_all_date_my_events($user_id,$start,$end){\n                    $this-&gt;db-&gt;select(&#39;*&#39;);\n                    $this-&gt;db-&gt;from($this-&gt;db-&gt;dbprefix(&#39;event&#39;));\n                    $this-&gt;db-&gt;where(&#39;created_by&#39;,$user_id);\n                    $this-&gt;db-&gt;where(&quot;event_date &gt;=&quot;, $start);\n                    $this-&gt;db-&gt;where(&quot;event_date &lt;=&quot;, $end);\n                    $data=$this-&gt;db-&gt;get()-&gt;result_array();\n                    return $data;\n                 }\n\n                //get event by id\n                public function get_event_by_id($id){\n                    $this-&gt;db-&gt;select(&#39;*&#39;);\n                    $this-&gt;db-&gt;from($this-&gt;db-&gt;dbprefix(&#39;EVENT&#39;));\n                    $this-&gt;db-&gt;where(&#39;EVENT_ID&#39;,$id);\n                    $data=$this-&gt;db-&gt;get()-&gt;row();\n                    return $data;\n                 }\n\n                 public function get_customer_all_out_source($id){\n                    $this-&gt;db-&gt;select(&#39;*,CRM_USER.USER_NAME,CRM_NETWORK.COMP_NAME,CRM_NETWORK.NETWORK_ID&#39;);\n                    $this-&gt;db-&gt;from($this-&gt;db-&gt;dbprefix(&#39;CUSTOMER_OUT_SOURCE&#39;));\n                      $this-&gt;db-&gt;join(&quot;CRM_USER&quot;,&quot;CRM_USER.USER_ID=CRM_CUSTOMER_OUT_SOURCE.CREATE_BY&quot;);\n                        $this-&gt;db-&gt;join(&quot;CRM_NETWORK&quot;,&quot;CRM_NETWORK.NETWORK_ID=CRM_CUSTOMER_OUT_SOURCE.NETWORK_ID&quot;);\n                    $this-&gt;db-&gt;where(&#39;CUSTOMER_ID&#39;,$id);\n                    $data=$this-&gt;db-&gt;get()-&gt;result_array();\n                    return $data;\n                 }\n\n                 public function get_customer_all_work_order($id){\n                    $this-&gt;db-&gt;select(&#39;*&#39;);\n                    $this-&gt;db-&gt;from($this-&gt;db-&gt;dbprefix(&#39;WORK_ORDER&#39;));\n                    $this-&gt;db-&gt;join(&quot;CRM_CUSTOMER_ESTIMATE&quot;,&quot;CRM_CUSTOMER_ESTIMATE.ESTIMATE_ID=CRM_WORK_ORDER.ESTIMATE_ID&quot;);\n                    $this-&gt;db-&gt;where(&quot;CRM_CUSTOMER_ESTIMATE.CUST_EST_STATUS&quot;,&quot;1&quot;);\n                    $this-&gt;db-&gt;where(&#39;CRM_WORK_ORDER.CUSTOMER_ID&#39;,$id);\n                    $data=$this-&gt;db-&gt;get()-&gt;result_array();\n                    return $data;\n                 }\n\n                 public function get_customer_all_purchase_order($id){\n                    $this-&gt;db-&gt;select(&#39;*&#39;);\n                    $this-&gt;db-&gt;from($this-&gt;db-&gt;dbprefix(&#39;PURCHASE_ORDER&#39;));\n                    $this-&gt;db-&gt;where(&#39;CUSTOMER_ID&#39;,$id);\n                    $data=$this-&gt;db-&gt;get()-&gt;result_array();\n                    return $data;\n                 }\n\n                 public function get_project_mgr(){\n                    $this-&gt;db-&gt;select(&#39;*&#39;);\n                    $this-&gt;db-&gt;from($this-&gt;db-&gt;dbprefix(&#39;representative&#39;));\n                    $this-&gt;db-&gt;where(&#39;designation&#39;,&#39;Project Manager&#39;);\n                    $data=$this-&gt;db-&gt;get()-&gt;result_array();\n                    return $data;\n                 }\n\n                 public function get_respective_tech($id){\n                    return $this-&gt;db-&gt;query(&quot;select * from CRM_USER where FIND_IN_SET($id, `USER_REPORTEE`)&quot;)-&gt;result_array();\n                  }\n\n                 public function get_reportee_events($id,$start,$end){\n                    return $this-&gt;db-&gt;query(&quot;select * from crm_assign_job where FIND_IN_SET($id, `assign_tech`) and pickup_date&gt;=&#39;$start&#39; and pickup_date&lt;=&#39;$end&#39;&quot;)-&gt;result_array();\n                 }\n\n                 public function GetCustomerByID($id){\n                  $query = $this-&gt;db-&gt;get_where(&quot;CRM_CUSTOMER&quot;,array(&quot;CUSTOMER_ID&quot;=&gt;$id));\n                  return $query-&gt;row_array();\n                 }\n\n\n                 function get_all_user_detail_by_job_id($userids) {\n     \n     \n                 $query = &#39;SELECT USER_NAME,USER_EMAIL,USER_ID FROM `CRM_USER` WHERE `USER_ID` IN (&#39;.$userids.&#39;)&#39;;\n                     $res = $this-&gt;db-&gt;query($query);\n                   if($res-&gt;num_rows()&gt;0)\n                   {\n                     return $res-&gt;result();\n                   }else{\n                     return false;\n                   }\n       }\n     \n     \n     \n\n\n\n                 function Submit(){\n                   if(!$this-&gt;session-&gt;userdata(&#39;name&#39;)){\n                       redirect(base_url());\n                   }\n\n                   {\n\n\n\n\n                     $postData=array(\n                                 &#39;CUSTOMER_NAME&#39; =&gt;$this-&gt;input-&gt;post(&#39;cusomer_name&#39;),\n                                 &#39;CUSTOMER_ADDRESS&#39; =&gt; $this-&gt;input-&gt;post(&#39;customer_address&#39;),\n                                 &#39;POSTALCODE&#39; =&gt; $this-&gt;input-&gt;post(&#39;postal_code&#39;),\n                                 &#39;BRANCH_ID&#39; =&gt; $this-&gt;input-&gt;post(&#39;branch&#39;),\n                                 &#39;EMAIL&#39; =&gt; $this-&gt;input-&gt;post(&#39;email&#39;),\n                                 //&#39;PHONE&#39; =&gt; $this-&gt;input-&gt;post(&#39;phone&#39;),\n                                 &#39;MOBILE&#39; =&gt; $this-&gt;input-&gt;post(&#39;mobile&#39;),\n                                 &#39;BUILD_ID&#39; =&gt; $this-&gt;input-&gt;post(&#39;building_type&#39;),\n                                 &#39;STAT_ID&#39; =&gt; $this-&gt;input-&gt;post(&#39;status&#39;),\n                                 &#39;LANGUAGE&#39; =&gt; ($this-&gt;input-&gt;post(&#39;language&#39;)) ? &quot;&quot; :&quot;English&quot;,\n                                 &#39;POSITION&#39; =&gt; $this-&gt;input-&gt;post(&#39;position&#39;),\n                                 &#39;SERV_ID&#39; =&gt; $this-&gt;input-&gt;post(&#39;service_type&#39;),\n                                 &#39;SOURCE_TYPE&#39; =&gt; $this-&gt;input-&gt;post(&#39;source_type&#39;),\n                                 &#39;SOURCE_NAME&#39; =&gt; $this-&gt;input-&gt;post(&#39;source_name&#39;),\n                                 &#39;PROV_ID&#39; =&gt; $this-&gt;input-&gt;post(&#39;province&#39;),\n                                 &#39;CUST_STATUS&#39; =&gt; $this-&gt;input-&gt;post(&#39;customer_status&#39;),\n                                 &#39;COMP_ID&#39; =&gt; $this-&gt;session-&gt;userdata(&#39;comp_id&#39;),\n\n\n                     );\n                     \n\n                           $id= $this-&gt;input-&gt;post(&#39;id&#39;);\n                           if($id&gt;0){\n\n                             $postData[&#39;UPDATE_BY&#39;]=$this-&gt;session-&gt;userdata(&#39;current_user_id&#39;);\n                             $postData[&#39;UPDATE_DATE&#39;]=date(&#39;Y-m-d h:i:s&#39;);\n\n\n                             $this-&gt;db-&gt;where(&quot;CUSTOMER_ID&quot;,$id);\n                             $this-&gt;db-&gt;update($this-&gt;db-&gt;dbprefix(&#39;CUSTOMER&#39;), $postData);\n                             $insert_id = $id;\n                             $message= &quot;Customer has updated successfully !&quot;;\n                           }else{\n\n                             $postData[&#39;CREATE_BY&#39;]=$this-&gt;session-&gt;userdata(&#39;current_user_id&#39;);\n                             $postData[&#39;CREATE_DATE&#39;]=date(&#39;Y-m-d h:i:s&#39;);\n                             $this-&gt;db-&gt;insert($this-&gt;db-&gt;dbprefix(&#39;CUSTOMER&#39;), $postData);\n                             $insert_id= $this-&gt;db-&gt;insert_id();\n\n                             $branch_no=sectionCount($this-&gt;session-&gt;userdata(&#39;comp_id&#39;),&quot;CUSTOMER&quot;);\n                             $Branch_SNO= $branch_no+1;\n                             $update_str=array(&quot;CUSTOMER_SNO&quot;=&gt;&quot;CUSTOMER-&quot;.$Branch_SNO);\n                             $this-&gt;db-&gt;where(&quot;CUSTOMER_ID&quot;,$insert_id);\n                             $this-&gt;db-&gt;update($this-&gt;db-&gt;dbprefix(&#39;CUSTOMER&#39;), $update_str);\n\n                             $message= &quot;New Customer inserted successfully !&quot;;\n\n                           }\n\n                           if ($insert_id &gt; 0) {\n                                return array(&quot;status&quot;=&gt;&quot;1&quot;,&quot;message&quot;=&gt;&quot;$message&quot;,&quot;redirecturl&quot;=&gt;base_url(&quot;customer/customer/lookup/$insert_id&quot;));\n                           }else{\n                                return array(&quot;status&quot;=&gt;&quot;0&quot;,&quot;message&quot;=&gt;&quot;Server not support,please try after sometime &quot;,&quot;redirecturl&quot;=&gt;base_url(&quot;admin/representative&quot;));\n                           }\n\n               }\n             }\n \n\n             public function get_network_by_id($id){\n              //  $this-&gt;db-&gt;select(&#39;*,USER.USER_NAME&#39;);\n              $this-&gt;db-&gt;select(&#39;NETWORK.*,CRM_PIPELINE_STAGE.PIP_NAME,CRM_USER.USER_NAME,CRM_OCCUPATION.OCC_NAME&#39;);\n                $this-&gt;db-&gt;from($this-&gt;db-&gt;dbprefix(&#39;NETWORK&#39;));\n                $this-&gt;db-&gt;join(&quot;CRM_USER&quot;,&quot;CRM_USER.USER_ID=CRM_NETWORK.USER_ID&quot;);\n              //  $this-&gt;db-&gt;JOIN($this-&gt;db-&gt;dbprefix(&#39;USER&#39;),&quot;CRM_USER.USER_ID=CRM_NETWORK.USER_ID&quot;);\n                $this-&gt;db-&gt;JOIN(&quot;CRM_OCCUPATION&quot;,&quot;CRM_OCCUPATION.OCC_ID=CRM_NETWORK.OCC_ID&quot;);\n                $this-&gt;db-&gt;JOIN(&quot;CRM_PIPELINE_STAGE&quot;,&quot;CRM_PIPELINE_STAGE.PIP_ID=CRM_NETWORK.PIP_ID&quot;);\n\n                $this-&gt;db-&gt;where(&#39;CRM_NETWORK.NETWORK_ID&#39;,$id);\n                $data=$this-&gt;db-&gt;get()-&gt;row();\n              //  echo $this-&gt;db-&gt;last_query();\n                return $data;\n             }\n\n             public function get_networkby_id($id){\n              //  $this-&gt;db-&gt;select(&#39;*,USER.USER_NAME&#39;);\n              $this-&gt;db-&gt;select(&#39;NETWORK.*,CRM_PIPELINE_STAGE.PIP_NAME,CRM_USER.USER_NAME,CRM_OCCUPATION.OCC_NAME&#39;);\n                $this-&gt;db-&gt;from($this-&gt;db-&gt;dbprefix(&#39;NETWORK&#39;));\n                $this-&gt;db-&gt;join(&quot;CRM_USER&quot;,&quot;CRM_USER.USER_ID=CRM_NETWORK.USER_ID&quot;);\n              //  $this-&gt;db-&gt;JOIN($this-&gt;db-&gt;dbprefix(&#39;USER&#39;),&quot;CRM_USER.USER_ID=CRM_NETWORK.USER_ID&quot;);\n                $this-&gt;db-&gt;JOIN(&quot;CRM_OCCUPATION&quot;,&quot;CRM_OCCUPATION.OCC_ID=CRM_NETWORK.OCC_ID&quot;);\n                $this-&gt;db-&gt;JOIN(&quot;CRM_PIPELINE_STAGE&quot;,&quot;CRM_PIPELINE_STAGE.PIP_ID=CRM_NETWORK.PIP_ID&quot;);\n\n                $this-&gt;db-&gt;where(&#39;CRM_NETWORK.NETWORK_ID&#39;,$id);\n                $data=$this-&gt;db-&gt;get()-&gt;row_array();\n              //  echo $this-&gt;db-&gt;last_query();\n                return $data;\n             }\n\n\n\n\n             public function get_all_representative($comp_id){\n                $this-&gt;db-&gt;select(&#39;*,CRM_DEPARTMENTS.DEPT_NAME&#39;);\n                $this-&gt;db-&gt;from($this-&gt;db-&gt;dbprefix(&#39;USER&#39;));\n               $this-&gt;db-&gt;join(&quot;CRM_DEPARTMENTS&quot;,&quot;CRM_DEPARTMENTS.DEPT_ID=CRM_USER.USER_DEP&quot;);\n                $this-&gt;db-&gt;where(&#39;CRM_USER.COMP_ID&#39;,$comp_id);\n                $data=$this-&gt;db-&gt;get()-&gt;result_array();\n                return $data;\n             }\n\n             public function get_representative_by_id($id){\n                $this-&gt;db-&gt;select(&#39;*&#39;);\n                $this-&gt;db-&gt;from($this-&gt;db-&gt;dbprefix(&#39;USER&#39;));\n                $this-&gt;db-&gt;where(&#39;USER_ID&#39;,$id);\n                $data=$this-&gt;db-&gt;get()-&gt;row_array();\n                //echo $this-&gt;db-&gt;last_query();\n                return $data;\n             }\n\n             function get_all_network($comp_id){\n\n               $this-&gt;db-&gt;select(&#39;*,CRM_USER.USER_NAME&#39;);\n               $this-&gt;db-&gt;from($this-&gt;db-&gt;dbprefix(&#39;NETWORK&#39;));\n               $this-&gt;db-&gt;join(&quot;CRM_USER&quot;,&quot;CRM_USER.USER_ID=CRM_NETWORK.USER_ID&quot;);\n                $this-&gt;db-&gt;where(&quot;NETWORK_STATUS&quot;,&quot;1&quot;);\n               $this-&gt;db-&gt;where(&#39;CRM_NETWORK.COMP_ID&#39;,$comp_id);\n               $data=$this-&gt;db-&gt;get()-&gt;result_array();\n               return $data;\n             }\n\n             public function get_network_all_stage_records($id){\n               $this-&gt;db-&gt;select(&#39;*,CRM_USER.USER_NAME,CRM_STAGE_TYPE.STAGE_TYPE_NAME&#39;);//\n               $this-&gt;db-&gt;from($this-&gt;db-&gt;dbprefix(&#39;NETWORK_STAGE&#39;));\n               $this-&gt;db-&gt;join($this-&gt;db-&gt;dbprefix(&#39;USER&#39;),&quot;CRM_USER.USER_ID=CRM_NETWORK_STAGE.USER_ID&quot;);\n                $this-&gt;db-&gt;join($this-&gt;db-&gt;dbprefix(&#39;STAGE_TYPE&#39;),&quot;CRM_STAGE_TYPE.STAGE_TYPE_ID=CRM_NETWORK_STAGE.STAGE_TYPE_ID&quot;);\n               $this-&gt;db-&gt;where(&#39;NETWORK_ID&#39;,$id);\n               $this-&gt;db-&gt;where(&#39;CRM_NETWORK_STAGE.COMP_ID&#39;,$this-&gt;session-&gt;userdata(&#39;comp_id&#39;));\n               $data=$this-&gt;db-&gt;get()-&gt;result_array();\n               return $data;\n            }\n\n\n            public function get_all_stage_type($comp_id){\n               $this-&gt;db-&gt;select(&#39;*&#39;);\n               $this-&gt;db-&gt;from($this-&gt;db-&gt;dbprefix(&#39;STAGE_TYPE&#39;));\n               $this-&gt;db-&gt;where(&#39;COMP_ID&#39;,$comp_id);\n               $data=$this-&gt;db-&gt;get()-&gt;result_array();\n               return $data;\n            }\n\n            // get all get_network_all_chat_history start\n\n            public function get_network_all_chat_history($id){\n               $this-&gt;db-&gt;select(&#39;*,CRM_USER.USER_NAME&#39;);\n               $this-&gt;db-&gt;from($this-&gt;db-&gt;dbprefix(&#39;NETWORK_CONTACT_HISTORY&#39;));\n                $this-&gt;db-&gt;join($this-&gt;db-&gt;dbprefix(&#39;USER&#39;),&quot;CRM_USER.USER_ID=CRM_NETWORK_CONTACT_HISTORY.CREATE_BY&quot;);\n               $this-&gt;db-&gt;where(&#39;CRM_NETWORK_CONTACT_HISTORY.NETWORK_ID&#39;,$id);\n\n               $this-&gt;db-&gt;where(&#39;CRM_NETWORK_CONTACT_HISTORY.COMP_ID&#39;,$this-&gt;session-&gt;userdata(&#39;comp_id&#39;));\n               $data=$this-&gt;db-&gt;get()-&gt;result_array();\n               return $data;\n            }\n\n            // get all get_network_all_chat_history end\n\n             // get all get_network_all_chat_history start\n\n            public function get_network_all_folow_up($id){\n               $this-&gt;db-&gt;select(&#39;*&#39;);\n               $this-&gt;db-&gt;from($this-&gt;db-&gt;dbprefix(&#39;NETWORK_FOLLOW_UP&#39;));\n               $this-&gt;db-&gt;where(&#39;NETWORK_ID&#39;,$id);\n               $this-&gt;db-&gt;where(&#39;COMP_ID&#39;,$this-&gt;session-&gt;userdata(&#39;comp_id&#39;));\n               $data=$this-&gt;db-&gt;get()-&gt;result_array();\n               return $data;\n            }\n\n\n\n\n             function save_doc(){\n              $customer_id=$_POST[&#39;cust_id&#39;];\n              $uploadOk = 1;\n               $target_dir = &#39;images/customer_doc/&#39;;\n               $fileNames = [];\n               if (isset($_FILES[&#39;file&#39;])) {\n                 $files = $_FILES[&#39;file&#39;];\n                 $count = count($files[&#39;name&#39;]);\n                 for ($i=0; $i &lt; $count; $i++) { \n                   $fileName = str_replace(&#39; &#39;, &#39;-&#39;, date(&#39;YmdHis&#39;).&#39;-&#39;.$files[&#39;name&#39;][$i]);\n                   $fileType = $files[&#39;type&#39;][$i];\n                   $fileTmpName = $files[&#39;tmp_name&#39;][$i];\n                   $size = $files[&#39;size&#39;][$i];\n                   $target_file = $target_dir . $fileName;\n                   if (move_uploaded_file($fileTmpName, $target_file)) {\n                     $fileNames[] = $fileName;\n                   }\n                 }\n               }\n               $postData=array(\n                     &#39;DOC_TYPE_ID&#39; =&gt;$this-&gt;input-&gt;post(&#39;document_type&#39;),\n                     &#39;CUSTOMER_ID&#39; =&gt;$_POST[&#39;cust_id&#39;],\n                     &#39;DESCRIPTION&#39; =&gt; $this-&gt;input-&gt;post(&#39;description&#39;),\n                     &#39;FILE_NAME&#39; =&gt; implode(&#39;,&#39;,$fileNames),\n                     &#39;COMP_ID&#39; =&gt; $this-&gt;session-&gt;userdata(&#39;comp_id&#39;),\n                     &#39;STATUS&#39; =&gt; 1,\n\n                 );\n               if($id&gt;0){\n                 $postData[&#39;UPDATE_DATE&#39;] = date(&#39;Y-m-d h:i:s&#39;);\n                 $postData[&#39;UPDATE_BY&#39;]=$this-&gt;session-&gt;userdata(&#39;current_user_id&#39;);\n                 $this-&gt;db-&gt;where(&quot;NETW_STAGE_ID&quot;,$id);\n                 $this-&gt;db-&gt;update($this-&gt;db-&gt;dbprefix(&#39;CUSTOMER_DOCS&#39;), $postData);\n\n                 $message= &quot;Network Stage updated successfully !&quot;;\n                 $insert_id=$id;\n               }else {\n                 $postData[&#39;CREATE_DATE&#39;] = date(&#39;Y-m-d h:i:s&#39;);\n                 $postData[&#39;CREATE_BY&#39;]=$this-&gt;session-&gt;userdata(&#39;current_user_id&#39;);\n                 $this-&gt;db-&gt;insert($this-&gt;db-&gt;dbprefix(&#39;CUSTOMER_DOCS&#39;), $postData);\n                 $insert_id= $this-&gt;db-&gt;insert_id();\n                 $branch_no=innersectionCount(&quot;CUSTOMER_ID&quot;,$_POST[&#39;cust_id&#39;],&quot;CUSTOMER_DOCS&quot;);\n                 $Branch_SNO= $branch_no+1;\n                 $update_str=array(&quot;CUST_DOC_SNO&quot;=&gt;&quot;CUST-DOC-&quot;.$Branch_SNO);\n                 $this-&gt;db-&gt;where(&quot;CUST_DOC_ID&quot;,$insert_id);\n                 $this-&gt;db-&gt;update($this-&gt;db-&gt;dbprefix(&#39;CUSTOMER_DOCS&#39;), $update_str);\n\n                 $message= &quot;New Network Stage inserted successfully !&quot;;\n\n               }\n               //echo $this-&gt;db-&gt;last_query();\n\n               if ($insert_id &gt; 0) {\n                    return array(&quot;status&quot;=&gt;&quot;1&quot;,&quot;message&quot;=&gt;&quot;$message&quot;,&quot;redirecturl&quot;=&gt;base_url(&quot;customer/customer/lookup/$customer_id/#upload&quot;));\n               }else{\n                    return array(&quot;status&quot;=&gt;&quot;0&quot;,&quot;message&quot;=&gt;&quot;Server not support,please try after sometime &quot;,&quot;redirecturl&quot;=&gt;base_url(&quot;admin/representative&quot;));\n               }\n          }\n\n            function save_chat(){\n              $originalDate = $this-&gt;input-&gt;post(&#39;contact_history_date&#39;);\n              $newDate = date(&quot;Y-m-d&quot;, strtotime($originalDate));\n              $customer_id = $_POST[&#39;contact_history_cust_id&#39;];\n\n              $postData=array(\n                  &#39;CUSTOMER_ID&#39; =&gt;$this-&gt;input-&gt;post(&#39;contact_history_cust_id&#39;),\n                  &#39;NOTE&#39; =&gt; $this-&gt;input-&gt;post(&#39;contact_history_note&#39;),\n                  &#39;COMM_MODE&#39; =&gt;$this-&gt;input-&gt;post(&#39;mode_comm&#39;),\n                  &#39;CONTACT_DATE&#39; =&gt; $newDate,\n                  &#39;CONTACT_TIME&#39; =&gt; $this-&gt;input-&gt;post(&#39;contact_history_time&#39;),\n                  &#39;COMP_ID&#39; =&gt; $this-&gt;session-&gt;userdata(&#39;comp_id&#39;),\n                  &#39;STATUS&#39; =&gt; 1,\n\n              );\n\n\n\n\n              if($id&gt;0){\n              $postData[&#39;UPDATE_DATE&#39;] = date(&#39;Y-m-d h:i:s&#39;);\n              $postData[&#39;UPDATE_BY&#39;]=$this-&gt;session-&gt;userdata(&#39;current_user_id&#39;);\n              $this-&gt;db-&gt;where(&quot;CUST_CONT_HIST_ID&quot;,$id);\n              $this-&gt;db-&gt;update($this-&gt;db-&gt;dbprefix(&#39;CUSTOMER_CONTACT_HISTORY&#39;), $postData);\n\n                $message= &quot;Chat updated successfully !&quot;;\n                $insert_id=$id;\n              }else {\n                $postData[&#39;CREATE_DATE&#39;] = date(&#39;Y-m-d h:i:s&#39;);\n                $postData[&#39;CREATE_BY&#39;]=$this-&gt;session-&gt;userdata(&#39;current_user_id&#39;);\n                $this-&gt;db-&gt;insert($this-&gt;db-&gt;dbprefix(&#39;CUSTOMER_CONTACT_HISTORY&#39;), $postData);\n                $insert_id= $this-&gt;db-&gt;insert_id();\n                $branch_no=innersectionCount(&quot;CUSTOMER_ID&quot;,$this-&gt;input-&gt;post(&#39;contact_history_cust_id&#39;),&quot;CUSTOMER_CONTACT_HISTORY&quot;);\n                $Branch_SNO= $branch_no+1;\n                $update_str=array(&quot;CUST_CONT_HIST_SNO&quot;=&gt;&quot;CONTACT-&quot;.$Branch_SNO);\n                $this-&gt;db-&gt;where(&quot;CUST_CONT_HIST_ID&quot;,$insert_id);\n                $this-&gt;db-&gt;update($this-&gt;db-&gt;dbprefix(&#39;CUSTOMER_CONTACT_HISTORY&#39;), $update_str);\n\n                $message= &quot;New Chat detail inserted successfully !&quot;;\n\n              }\n              //echo $this-&gt;db-&gt;last_query();\n\n              if ($insert_id &gt; 0) {\n                   return array(&quot;status&quot;=&gt;&quot;1&quot;,&quot;message&quot;=&gt;&quot;$message&quot;,&quot;redirecturl&quot;=&gt;base_url(&quot;customer/customer/lookup/$customer_id/#contact&quot;));\n              }else{\n                   return array(&quot;status&quot;=&gt;&quot;0&quot;,&quot;message&quot;=&gt;&quot;Server not support,please try after sometime &quot;,&quot;redirecturl&quot;=&gt;base_url(&quot;admin/representative&quot;));\n              }\n\n\n            }\n\n\n            public function get_all_task_types($comp_id){\n                $this-&gt;db-&gt;select(&#39;*&#39;);\n                $this-&gt;db-&gt;from($this-&gt;db-&gt;dbprefix(&#39;TASK_TYPE&#39;));\n                $this-&gt;db-&gt;where(&#39;COMP_ID&#39;,$comp_id);\n                $data=$this-&gt;db-&gt;get()-&gt;result_array();\n                return $data;\n             }\n\n             function savetask(){\n            \n\n          /*     [assign_task_cust_id] =&gt; 30\n   [title] =&gt; sd\n   [customer_assign_task_representative] =&gt; 55\n   [implevelradio] =&gt; Important\n   [task_start_date] =&gt; 25/12/2018\n   [task_end_date] =&gt; 26/12/2018\n   [customer_assign_task_note] =&gt; tests */\n    $start_date = date(&quot;Y-m-d&quot;,strtotime($_POST[&#39;task_start_date&#39;]));\n    $end_date= date(&quot;Y-m-d&quot;,strtotime($_POST[&#39;task_end_date&#39;]));\n   $check=&#39;&#39;;\n      if(isset($_POST[&#39;inspection&#39;]))\n      {\n        $check.=1;\n      }\n      else\n      {\n        $check.=0;\n      }\n      if(isset($_POST[&#39;customer_chk&#39;]))\n      {\n        $custcheck.=1;\n      }\n      else\n      {\n        $custcheck.=0;\n      }\n   $postDatainsert= array(\n    &quot;COMP_ID&quot;=&gt; $this-&gt;session-&gt;userdata(&#39;comp_id&#39;),\n   &#39;CREATE_BY&#39; =&gt; $this-&gt;session-&gt;userdata(&#39;current_user_id&#39;),\n   &#39;CREATE_DATE&#39; =&gt; date(&#39;Y-m-d h:i:s&#39;),\n   &quot;STATUS&quot;=&gt;&quot;WAITING&quot;,\n   &quot;TITLE&quot;=&gt;$_POST[&#39;title&#39;],\n   &quot;ESTIMATE_ID&quot;=&gt;($_POST[&#39;estimate&#39;]) ? $_POST[&#39;estimate&#39;] :&quot;&quot;,\n   &quot;REPRESENTATIVE&quot;=&gt;implode(&quot;,&quot;,$_POST[&#39;customer_assign_task_representative&#39;]),\n   &quot;START_DATE&quot;=&gt;$start_date,\n   &quot;DUE_DATE&quot;=&gt;$end_date,\n   &quot;LEVEL&quot;=&gt;$_POST[&#39;implevelradio&#39;],\n   &quot;NOTES&quot;=&gt;$_POST[&#39;customer_assign_task_note&#39;],\n   &quot;inspection&quot;=&gt;$check,\n   &quot;custcheck&quot;=&gt;$custcheck,\n   &quot;unit&quot;=&gt;$_POST[&#39;unit&#39;],\n   &quot;guest_email&quot;=&gt;$_POST[&#39;guest_email&#39;]\n\n );\n\n    if(isset($_POST[&#39;task_id&#39;]) &amp;&amp; !empty($_POST[&#39;task_id&#39;])){\n\n            $this-&gt;db-&gt;where(&quot;ID&quot;,$_POST[&#39;task_id&#39;]);\n               $this-&gt;db-&gt;update($this-&gt;db-&gt;dbprefix(&#39;ASSIGN_TASK&#39;), $postDatainsert);\n\n               $message= &quot;Task Updated successfully !&quot;;\n               $task_id = $_POST[&#39;task_id&#39;];\n\n             //echo $this-&gt;db-&gt;last_query();\n\n             if ($task_id &gt; 0) {\n                  return array(&quot;status&quot;=&gt;&quot;1&quot;,&quot;message&quot;=&gt;&quot;$message&quot;,&quot;redirecturl&quot;=&gt;base_url(&quot;customer/customer/lookup/$customer_id/#assign_task_box&quot;),&quot;id&quot;=&gt;$task_id,&quot;check&quot;=&gt;$check);\n             }else{\n                  return array(&quot;status&quot;=&gt;&quot;0&quot;,&quot;message&quot;=&gt;&quot;Server not support,please try after sometime &quot;,&quot;redirecturl&quot;=&gt;base_url(&quot;admin/representative&quot;));\n             }\n    }else{\n      $postDatainsert[&#39;CUSTOMER_ID&#39;] = $_POST[&#39;assign_task_cust_id&#39;];\n     $this-&gt;db-&gt;insert($this-&gt;db-&gt;dbprefix(&#39;ASSIGN_TASK&#39;), $postDatainsert);\n\n     $customer_id = $this-&gt;input-&gt;post(&#39;assign_task_cust_id&#39;);\n               $insert_id = $this-&gt;db-&gt;insert_id();\n               $branch_no=innersectionCount(&quot;CUSTOMER_ID&quot;,$this-&gt;input-&gt;post(&#39;assign_task_cust_id&#39;),&quot;ASSIGN_TASK&quot;);\n               $Branch_SNO= $branch_no+1;\n               $update_str=array(&quot;ASSIGN_TASK_SNO&quot;=&gt;&quot;TASK-&quot;.$Branch_SNO);\n               $this-&gt;db-&gt;where(&quot;ID&quot;,$insert_id);\n               $this-&gt;db-&gt;update($this-&gt;db-&gt;dbprefix(&#39;ASSIGN_TASK&#39;), $update_str);\n\n               $message= &quot;New Task inserted successfully !&quot;;\n\n\n             //echo $this-&gt;db-&gt;last_query();\n\n             if ($insert_id &gt; 0) {\n                  return array(&quot;status&quot;=&gt;&quot;1&quot;,&quot;message&quot;=&gt;&quot;$message&quot;,&quot;redirecturl&quot;=&gt;base_url(&quot;customer/customer/lookup/$customer_id/#assign_task_box&quot;),&quot;id&quot;=&gt;$insert_id,&quot;check&quot;=&gt;$check);\n             }else{\n                  return array(&quot;status&quot;=&gt;&quot;0&quot;,&quot;message&quot;=&gt;&quot;Server not support,please try after sometime &quot;,&quot;redirecturl&quot;=&gt;base_url(&quot;admin/representative&quot;));\n             }\n              // CUST_ASSIGN_TASK_SNO\n\n        }\n             }\n\n\n             function saveoutsource(){\n               $customer_id = $this-&gt;input-&gt;post(&#39;out_source_cust_id&#39;);\n               $postData=array(\n                   &#39;CUSTOMER_ID&#39; =&gt;$this-&gt;input-&gt;post(&#39;out_source_cust_id&#39;),\n                   &#39;NOTE&#39; =&gt; $this-&gt;input-&gt;post(&#39;customer_out_source_note&#39;),\n                   &#39;NETWORK_ID&#39; =&gt; $this-&gt;input-&gt;post(&#39;customer_out_source_acc&#39;),\n                   &#39;COMP_ID&#39; =&gt;$this-&gt;session-&gt;userdata(&#39;comp_id&#39;),\n                   &#39;STATUS&#39; =&gt;1,\n                   &#39;CREATE_DATE&#39; =&gt; date(&#39;Y-m-d h:i:s&#39;),\n                   &quot;SENDMAIL&quot;=&gt;($this-&gt;input-&gt;post(&#39;sendmail&#39;)) ? $this-&gt;input-&gt;post(&#39;sendmail&#39;) : &quot;0&quot;,\n                   &#39;CREATE_BY&#39; =&gt;$this-&gt;session-&gt;userdata(&#39;current_user_id&#39;),\n               );\n\n               $this-&gt;db-&gt;insert($this-&gt;db-&gt;dbprefix(&#39;CUSTOMER_OUT_SOURCE&#39;), $postData);\n               $outsource_id=$insert_id= $this-&gt;db-&gt;insert_id();\n               if ($insert_id &gt; 0) {\n\n                 $branch_no=innersectionCount(&quot;CUSTOMER_ID&quot;,$this-&gt;input-&gt;post(&#39;out_source_cust_id&#39;),&quot;CUSTOMER_OUT_SOURCE&quot;);\n                 $Branch_SNO= $branch_no+1;\n                 $update_str=array(&quot;CUST_OUT_SRC_SNO&quot;=&gt;&quot;OUTSOURCE-&quot;.$Branch_SNO);\n                 $this-&gt;db-&gt;where(&quot;CUST_OUT_SRC_ID&quot;,$insert_id);\n                 $this-&gt;db-&gt;update($this-&gt;db-&gt;dbprefix(&#39;CUSTOMER_OUT_SOURCE&#39;), $update_str);\n\n                    return array(&quot;status&quot;=&gt;&quot;1&quot;,&quot;outsource_id&quot;=&gt;$outsource_id,&quot;message&quot;=&gt;&quot;Customer outsource has saved successfully.&quot;,&quot;redirecturl&quot;=&gt;base_url(&quot;customer/customer/lookup/$customer_id/#outsource_box&quot;));\n               }else{\n                    return array(&quot;status&quot;=&gt;&quot;0&quot;,&quot;message&quot;=&gt;&quot;Server not support,please try after sometime &quot;,&quot;redirecturl&quot;=&gt;base_url(&quot;admin/representative&quot;));\n               }\n\n             }\n\n\n\n                 public function save_collection_record_data($data,$user_name){\n\n                    $this-&gt;db-&gt;select(&#39;AMOUNT&#39;);\n                    $this-&gt;db-&gt;from($this-&gt;db-&gt;dbprefix(&#39;CUSTOMER_ESTIMATE&#39;));\n                    $this-&gt;db-&gt;where(&#39;ESTIMATE_ID&#39;,$data[&#39;estimate_id&#39;]);\n                    $amount=$this-&gt;db-&gt;get()-&gt;row();\n                    $final_amount = $amount-&gt;AMOUNT+$data[&#39;amount&#39;];\n\n                    $collectionpostData=array(\n                            &#39;AMOUNT&#39; =&gt;$final_amount,\n                            &#39;UPDATE_DATE&#39; =&gt; date(&#39;Y-m-d h:i:s&#39;),\n                &#39;UPDATE_BY&#39; =&gt; $this-&gt;session-&gt;userdata(&#39;current_user_id&#39;)\n                     );\n\n                     $this-&gt;db-&gt;where(&#39;ESTIMATE_ID&#39;,$data[&#39;estimate_id&#39;]);\n                     $this-&gt;db-&gt;update($this-&gt;db-&gt;dbprefix(&#39;CUSTOMER_ESTIMATE&#39;),$collectionpostData);\n\n                     $originalDate = $data[&#39;expected_date&#39;];\n                     $newDate = date(&quot;Y-m-d&quot;, strtotime($originalDate));\n\n                     $collectionrecordpostData=array(\n                                &#39;CUSTOMER_ID&#39; =&gt;$data[&#39;cust_id&#39;],\n                                &#39;ESTIMATE_ID&#39; =&gt; $data[&#39;estimate_id&#39;],\n                                &#39;EXPECTED_DATE&#39; =&gt; $newDate,\n                                &#39;AMOUNT_PAY&#39; =&gt; $data[&#39;amount&#39;],\n                                &#39;NOTE&#39; =&gt; $data[&#39;note&#39;],\n                                &#39;MODE_OF_PAYMENT&#39; =&gt; $data[&#39;mode_of_payment&#39;],\n                                &#39;CREATE_DATE&#39; =&gt; date(&#39;Y-m-d h:i:s&#39;),\n                                &#39;CREATE_BY&#39; =&gt; $this-&gt;session-&gt;userdata(&#39;current_user_id&#39;)\n                     );\n\n                    $this-&gt;db-&gt;insert($this-&gt;db-&gt;dbprefix(&#39;CUSTOMER_COLLECTION_RECORDS&#39;), $collectionrecordpostData);\n\n                    return 1;\n                 }\n\n\n                 function GetUserName($id){\n                   $query = $this-&gt;db-&gt;get_where(&quot;CRM_USER&quot;,array(&quot;USER_ID&quot;=&gt;$id));\n                   $data = $query-&gt;row();\n                   return $data-&gt;USER_NAME;\n                 }\n\n                 // function AssignTaskDetail($id){\n                   // echo $query = &quot;SELECT CRM_CUSTOMER_ASSIGN_TASK.IMPORTANCE_LEVEL,CRM_CUSTOMER_ASSIGN_TASK.NOTE,CRM_CUSTOMER_ASSIGN_TASK.INSPECTION_DATE,CRM_CUSTOMER_ASSIGN_TASK.TASK_START_TIME,CRM_CUSTOMER_ASSIGN_TASK.NOTE,CRM_CUSTOMER_ASSIGN_TASK.TASK_END_TIME,CRM_USER.USER_NAME,CRM_USER.USER_EMAIL,CRM_TASK_TYPE.TASK_TYPE_NAME,CRM_CUSTOMER.CUSTOMER_NAME FROM `CRM_CUSTOMER_ASSIGN_TASK` join CRM_TASK_TYPE on CRM_TASK_TYPE.TASK_TYPE_ID= CRM_CUSTOMER_ASSIGN_TASK.TASK_TYPE_ID join CRM_USER on CRM_USER.USER_ID= CRM_CUSTOMER_ASSIGN_TASK.USER_id JOIn CRM_CUSTOMER on CRM_CUSTOMER.CUSTOMER_ID=CRM_CUSTOMER_ASSIGN_TASK.CUSTOMER_ID where CUST_ASSIGN_TASK_ID=$id&quot;;exit;\n                   // $res = $this-&gt;db-&gt;query($query);\n                   // if($res-&gt;num_rows()&gt;0)\n                   // {\n                     // return $res-&gt;row_array();\n                   // }else{\n                     // return false;\n                   // }\n                 // }\n         \n         function AssignTaskDetail($id){\n           \n        $query = &quot;SELECT CRM_ASSIGN_TASK.REPRESENTATIVE,CRM_ASSIGN_TASK.START_DATE,CRM_ASSIGN_TASK.NOTES,CRM_ASSIGN_TASK.DUE_DATE,CRM_ASSIGN_TASK.CREATE_DATE,CRM_ASSIGN_TASK.ESTIMATE_ID, \n        CRM_USER.USER_NAME,CRM_USER.USER_EMAIL,CRM_COMPANY.FINANCE_EMAIL,CRM_CUSTOMER.CUSTOMER_NAME,CRM_CUSTOMER.CUSTOMER_ADDRESS,CRM_CUSTOMER.POSTALCODE,CRM_CUSTOMER.PHONE,\n        CRM_CUSTOMER.MOBILE,CRM_CUSTOMER.SERV_ID,CRM_SERVICE.SERV_NAME,CRM_CUSTOMER.EMAIL FROM `CRM_ASSIGN_TASK` \n        join  `CRM_COMPANY` on  CRM_ASSIGN_TASK.COMP_ID= CRM_COMPANY.COMP_ID \n        join CRM_USER on FIND_IN_SET( CRM_USER.USER_ID, CRM_ASSIGN_TASK.REPRESENTATIVE ) \n       \n        join `CRM_CUSTOMER` on CRM_CUSTOMER.CUSTOMER_ID=CRM_ASSIGN_TASK.CUSTOMER_ID\n        join `CRM_SERVICE` on  CRM_SERVICE.SERV_ID=CRM_CUSTOMER.SERV_ID where CRM_ASSIGN_TASK.ID=$id&quot;;\n         $res = $this-&gt;db-&gt;query($query);\n                   if($res-&gt;num_rows()&gt;0)\n                   {\n                     return $res-&gt;result_array();\n                   }else{\n                     return false;\n                   }\n                 }\n         \n\n\n                 function EstimateCollection($estimate_id){\n                   $query = &quot;SELECT CRM_CUSTOMER_ESTIMATE.ADDRESS,ESTIMATE_SNO,CRM_CUSTOMER.CUSTOMER_NAME,CRM_USER.USER_NAME,CRM_USER.USER_EMAIL FROM `CRM_CUSTOMER_ESTIMATE` join CRM_USER on CRM_USER.USER_ID= CRM_CUSTOMER_ESTIMATE.USER_ID join CRM_CUSTOMER on CRM_CUSTOMER.CUSTOMER_ID= CRM_CUSTOMER_ESTIMATE.CUSTOMER_ID where ESTIMATE_ID = $estimate_id&quot;;\n                  $res = $this-&gt;db-&gt;query($query);\n                  if($res-&gt;num_rows()&gt;0){\n                    return $res-&gt;row_array();\n                  }else{\n                    return false;\n                  }\n\n\n\n                 }\n\n                 function GetEstimateDetail($estimate_id){\n                    $query =&quot;SELECT CRM_CUSTOMER.CUSTOMER_NAME,CRM_CUSTOMER.CUSTOMER_ID,CRM_CUSTOMER.PHONE,\n                   EXPIRE_DATE,CRM_CUSTOMER_ESTIMATE.CREATE_DATE,CRM_USER.USER_NAME,CRM_USER.USER_MOBILE,CRM_USER.USER_EMAIL,CLIENT_AMOUNT,SUB_TOTAL,CRM_CUSTOMER_ESTIMATE.ESTIMATE_SNO,CRM_CUSTOMER_ESTIMATE.ADDRESS As ESTIMATE_ADDRESS,CRM_CUSTOMER_ESTIMATE.GRAND_TOTAL,CRM_CUSTOMER_ESTIMATE.HST_VALUE,CRM_CUSTOMER_ESTIMATE.NOTES, CRM_CUSTOMER_ESTIMATE.PO_CLAIM\n                  FROM `CRM_CUSTOMER_ESTIMATE`\n                  join  CRM_CUSTOMER on CRM_CUSTOMER.CUSTOMER_ID=CRM_CUSTOMER_ESTIMATE.CUSTOMER_ID\n                  join CRM_USER on CRM_USER.USER_ID=CRM_CUSTOMER_ESTIMATE.USER_ID\n\n                  where ESTIMATE_ID=$estimate_id&quot;;\n                  $res = $this-&gt;db-&gt;query($query);\n                  if($res-&gt;num_rows()&gt;0)\n                  {\n                  return $res-&gt;row_array();\n                  }\n                         }\n\n\n                 function GetEstimateDetail_sno($estimate_id){\n                    $query =&quot;SELECT CRM_CUSTOMER.CUSTOMER_NAME,CRM_CUSTOMER.CUSTOMER_ID,CRM_CUSTOMER.PHONE,\n                   EXPIRE_DATE,CRM_CUSTOMER_ESTIMATE.CREATE_DATE,CRM_USER.USER_NAME,CRM_USER.USER_MOBILE,CRM_USER.USER_EMAIL,CLIENT_AMOUNT,SUB_TOTAL,CRM_CUSTOMER_ESTIMATE.ESTIMATE_SNO,CRM_CUSTOMER_ESTIMATE.ADDRESS As ESTIMATE_ADDRESS,CRM_CUSTOMER_ESTIMATE.GRAND_TOTAL,CRM_CUSTOMER_ESTIMATE.CUST_EST_STATUS,CRM_CUSTOMER_ESTIMATE.HST_VALUE,CRM_CUSTOMER_ESTIMATE.NOTES, CRM_CUSTOMER_ESTIMATE.PO_CLAIM\n                  FROM `CRM_CUSTOMER_ESTIMATE`\n                  join  CRM_CUSTOMER on CRM_CUSTOMER.CUSTOMER_ID=CRM_CUSTOMER_ESTIMATE.CUSTOMER_ID\n                  join CRM_USER on CRM_USER.USER_ID=CRM_CUSTOMER_ESTIMATE.USER_ID\n\n                  where ESTIMATE_SNO=&#39;$estimate_id&#39; and CUST_EST_STATUS = 1 &quot;;\n                  $res = $this-&gt;db-&gt;query($query);\n                  if($res-&gt;num_rows()&gt;0)\n                  {\n                    return $res-&gt;row_array();\n                  }\n                }\n\n                 function Estimate_Amount($estimate_id){\n                   // $query = &quot;SELECT sum(INVOICE_AMOUNT) as amount,STATUS FROM `CRM_ESTIMATE_INVOICE` WHERE ESTIMATE_ID=$estimate_id group by STATUS&quot;;\n                  $query = &quot;SELECT sum(collection) as amount,sum(INVOICE_AMOUNT) as totalamount,STATUS FROM `CRM_ESTIMATE_INVOICE` WHERE ESTIMATE_ID=$estimate_id group by STATUS&quot;;\n                   $res = $this-&gt;db-&gt;query($query);\n                   return $res-&gt;result_array();\n\n                 }\n\n                 function Estimate_Amountsno($estimate_id){\n                   // $query = &quot;SELECT sum(INVOICE_AMOUNT) as amount,STATUS FROM `CRM_ESTIMATE_INVOICE` WHERE ESTIMATE_ID=$estimate_id group by STATUS&quot;;\n                  $query = &quot;SELECT sum(collection) as amount,sum(INVOICE_AMOUNT) as totalamount,STATUS FROM `CRM_ESTIMATE_INVOICE` WHERE ESTIMATE_SNO=&#39;$estimate_id&#39; group by STATUS&quot;;\n                   $res = $this-&gt;db-&gt;query($query);\n                   return $res-&gt;result_array();\n\n                 }\n                 function Estimate_AmountById($estimate_id){\n                   $query = &quot;SELECT sum(INVOICE_AMOUNT) as SUM FROM `CRM_ESTIMATE_INVOICE` WHERE ESTIMATE_ID=$estimate_id&quot;;\n                   $res = $this-&gt;db-&gt;query($query);\n                   return $res-&gt;result_array();\n\n                 }\n \n  function SaveInvoice(){\n\n    $estimate= $_POST[&#39;estimate&#39;];\n    $estimate_sno=$_POST[&#39;estimate_sno&#39;];\n    $due_date_arr = explode(&quot;/&quot;,$_POST[&#39;due_date&#39;]);\n    $due_date= $due_date_arr[2].&#39;-&#39;.$due_date_arr[0].&#39;-&#39;.$due_date_arr[1];\n\n    $insert_arr=array(&quot;ESTIMATE_ID&quot;=&gt;$_POST[&#39;estimate&#39;],\n      &quot;INVOICE_AMOUNT&quot;=&gt;$_POST[&#39;invoice_amount&#39;],\n      &quot;INVOICE_DATE&quot;=&gt;date(&#39;Y-m-d&#39;),\n      &quot;STATUS&quot;=&gt;&quot;UNPAID&quot;,\n      &quot;ESTIMATE_SNO&quot;=&gt;$_POST[&#39;estimate_sno&#39;],\n      &quot;INVOICE_NOTE&quot;=&gt;($_POST[&#39;customer_assign_task_note&#39;])? $_POST[&#39;customer_assign_task_note&#39;] :&quot;&quot;,\n      &quot;CUSTOMER_ID&quot;=&gt;$_POST[&#39;finance_cust_id&#39;],\n      &quot;payment_status&quot;=&gt;&quot;UNPAID&quot;,\n      &quot;DUE_DATE&quot;=&gt;$due_date,\n      &quot;CREATED_BY&quot; =&gt; $this-&gt;session-&gt;userdata(&quot;current_user_id&quot;),\n      //  &quot;PDF_NAME&quot;=&gt;\n    );\n\n    $this-&gt;db-&gt;insert(&quot;ESTIMATE_INVOICE&quot;,$insert_arr);\n    $invoice_id = $this-&gt;db-&gt;insert_id();\n\n    if($invoice_id){\n\n      $count=$this-&gt;invoice_count($_POST[&#39;estimate_sno&#39;]);\n      $file_name= &quot;estimate_invoice_pdf/&quot;.&#39;I&#39;.&#39;-&#39;.$estimate.&#39;-&#39;.$count.&#39;.pdf&#39;;\n      $update_arr= array(&quot;INVOICE_NO&quot;=&gt;$estimate_sno.&#39;-&#39;.$count,&quot;PDF_NAME&quot;=&gt;$file_name);\n      $this-&gt;db-&gt;where(&quot;id&quot;,$invoice_id);\n      $update =   $this-&gt;db-&gt;update(&quot;ESTIMATE_INVOICE&quot;,$update_arr);\n\n      if($update){\n        return array(&quot;status&quot;=&gt;&quot;1&quot;,&quot;message&quot;=&gt;&quot;Invoice Data save successfully.&quot;,&quot;invoice_id&quot;=&gt;$invoice_id,&quot;file_name&quot;=&gt;$file_name);\n      }else{\n        return array(&quot;status&quot;=&gt;&quot;0&quot;,&quot;message&quot;=&gt;&quot;Something went wrong, try again &quot;);\n      }\n    }else{\n      return array(&quot;status&quot;=&gt;&quot;0&quot;,&quot;message&quot;=&gt;&quot;Something went wrong, try again &quot;);\n    }\n  }\n\n  function invoice_count($estimate_id){\n    $query = $this-&gt;db-&gt;get_where(&quot;CRM_ESTIMATE_INVOICE&quot;,array(&#39;ESTIMATE_SNO&#39;=&gt;$estimate_id));\n\n    $this-&gt;db-&gt;last_query();\n    return $query-&gt;num_rows();\n  }\n\n  function getInvoice($customer_id){\n\n    $query = &quot;SELECT CRM_ESTIMATE_INVOICE.*,CRM_CUSTOMER_ESTIMATE.SUB_TOTAL,CRM_CUSTOMER_ESTIMATE.ESTIMATE_ID,CRM_CUSTOMER_ESTIMATE.CUST_EST_STATUS\n        FROM `CRM_ESTIMATE_INVOICE` JOIN CRM_CUSTOMER_ESTIMATE\n        on CRM_ESTIMATE_INVOICE.ESTIMATE_SNO = CRM_CUSTOMER_ESTIMATE.ESTIMATE_SNO\n        WHERE CRM_ESTIMATE_INVOICE.CUSTOMER_ID=$customer_id AND CRM_CUSTOMER_ESTIMATE.CUST_EST_STATUS = 1 GROUP by CRM_ESTIMATE_INVOICE.id  order by INVOICE_DATE desc&quot;;\n    $query = $this-&gt;db-&gt;query($query);\n\n\n    if($query-&gt;num_rows()&gt;0){\n      return $query-&gt;result_array();\n    }else{\n      return false;\n    }\n\n  }\n  \n\n  function SaveInvoiceAction(){\n    \n    $update_arr= array(&quot;PAID_ON&quot;=&gt;date(&#39;Y-m-d H:m:s&#39;),\n      &quot;PAYMENT_NOTE&quot;=&gt;$_POST[&#39;note&#39;],\n      &quot;PAYMENT_METHOD&quot;=&gt;$_POST[&#39;payment_mode&#39;],\n      &quot;UPDATED_ON&quot;=&gt;date(&#39;Y-m-d H:m:s&#39;),\n      &quot;STATUS&quot;=&gt;&quot;PAID&quot;,\n      &quot;payment_status&quot;=&gt;$_POST[&#39;payment_type&#39;],\n         //  &quot;collection&quot;=&gt;$_POST[&#39;collection&#39;],\n         //  &quot;discount&quot;=&gt;$_POST[&#39;discount&#39;],\n    );\n    $logamount = 0.00;\n    $collection = ($_POST[&#39;collection&#39;]) ? $_POST[&#39;collection&#39;] :0.00 ;\n    $BEDDEBTSAMOUNT = ($_POST[&#39;BEDDEBTSAMOUNT&#39;]) ? $_POST[&#39;BEDDEBTSAMOUNT&#39;] : 0.00;\n    if($collection != 0.00 ){\n      $logamount = $collection;\n    }\n    if($BEDDEBTSAMOUNT != 0.00){\n      $logamount = $BEDDEBTSAMOUNT;\n    }\n    \n    $discount=($_POST[&#39;Discount&#39;]) ? $_POST[&#39;Discount&#39;] :0;\n    $tax = $_POST[&#39;tax&#39;];\n    $totalcollection = $_POST[&#39;totalcollection&#39;];\n    $this-&gt;db-&gt;set(&#39;collection&#39;, &quot;collection+$collection&quot;, FALSE);\n    $this-&gt;db-&gt;set(&quot;discount&quot;,&quot;discount+$discount&quot;,false);\n    $this-&gt;db-&gt;set(&quot;tax&quot;,&quot;$tax&quot;, FALSE);\n    $this-&gt;db-&gt;set(&quot;totalcollection&quot;,&quot;$totalcollection&quot;,FALSE);\n    $this-&gt;db-&gt;set(&quot;BEDDEBTSAMOUNT&quot;,&quot;$BEDDEBTSAMOUNT&quot;, FALSE);\n    $this-&gt;db-&gt;where(&quot;id&quot;,$_POST[&#39;invoice_id&#39;]);\n    $update = $this-&gt;db-&gt;update(&quot;CRM_ESTIMATE_INVOICE&quot;,$update_arr);\n\n    if($update){\n       $Insert_arr= array(&quot;INVOICE_ID&quot;=&gt;$_POST[&#39;invoice_id&#39;],\n         &quot;ACTION&quot;=&gt;$_POST[&#39;payment_type&#39;],\n         &quot;CREATE_ON&quot;=&gt;date(&#39;Y-m-d H:i:s&#39;),\n         &quot;AMOUNT&quot;=&gt;$logamount,\n         &quot;DISCOUNT&quot;=&gt;$discount,\n         &quot;UPDATE_BY&quot;=&gt;$this-&gt;session-&gt;userdata(&#39;current_user_id&#39;),\n         &#39;tax&#39;=&gt;$tax,\n         &#39;totalcollection&#39;=&gt;$totalcollection\n      );\n\n      $this-&gt;db-&gt;insert(&quot;CRM_INVOICE_LOG&quot;,$Insert_arr);\n\n      return array(&quot;status&quot;=&gt;&quot;1&quot;,&quot;message&quot;=&gt;&quot;Payment Detail has saved successfully.&quot;);\n\n    } else {\n      return array(&quot;status&quot;=&gt;&quot;0&quot;,&quot;message&quot;=&gt;&quot;Server not support please try after sometime.&quot;);\n    }\n\n    }\n\n                 function SavePDfname(){\n                   $update_arr= array(&quot;INVOICE_FILE_NAME&quot;=&gt;$file_name,\n                                      &quot;UPDATED_ON&quot;=&gt;date(&#39;Y-m-d&#39;)\n                 );\n                 $this-&gt;db-&gt;where(&quot;id&quot;,$_POST[&#39;invoice_id&#39;]);\n                 $update = $this-&gt;db-&gt;update(&quot;CRM_ESTIMATE_INVOICE&quot;,$update_arr);\n                 if($update){\n                   return array(&quot;status&quot;=&gt;&quot;1&quot;,&quot;message&quot;=&gt;&quot;Paymnet Detail has saved successfully.&quot;);\n                 }else{\n                   return array(&quot;status&quot;=&gt;&quot;0&quot;,&quot;message&quot;=&gt;&quot;Server not support please try after sometime.&quot;);\n                 }\n\n\n                 }\n\n                 function estimate_balancesno($ESTIMATE_SNO){\n                  ///return 50;\n                  $query =&quot;select * from CRM_CUSTOMER_ESTIMATE where ESTIMATE_SNO=&#39;$ESTIMATE_SNO&#39; and CUST_EST_STATUS = 1 &quot;;\n                  $res = $this-&gt;db-&gt;query($query);\n                  $sub_total = $res-&gt;row_array()[&#39;SUB_TOTAL&#39;];\n\n                  $estimate_collection = &quot;select sum(INVOICE_AMOUNT)  as collection from CRM_ESTIMATE_INVOICE where ESTIMATE_SNO=&#39;$ESTIMATE_SNO&#39;&quot;;\n                  $estimate_collection_res= $this-&gt;db-&gt;query($estimate_collection)-&gt;row_array()[&#39;collection&#39;];\n                    return number_format($sub_total-$estimate_collection_res,2);\n\n                 }\n\n                 function estimate_balance($estimate_id){\n                  ///return 50;\n                  $query =&quot;select * from CRM_CUSTOMER_ESTIMATE where ESTIMATE_ID=&#39;$estimate_id&#39;&quot;;\n                  $res = $this-&gt;db-&gt;query($query);\n                  $sub_total = $res-&gt;row_array()[&#39;SUB_TOTAL&#39;];\n\n                  $estimate_collection = &quot;select sum(INVOICE_AMOUNT)  as collection from CRM_ESTIMATE_INVOICE where ESTIMATE_ID=&#39;$estimate_id&#39;&quot;;\n                  $estimate_collection_res= $this-&gt;db-&gt;query($estimate_collection)-&gt;row_array()[&#39;collection&#39;];\n                    return number_format($sub_total-$estimate_collection_res,2);\n\n                 }\n\n                 function invoice_balance($invoice_id){\n                   $estimate_collection = &quot;select (INVOICE_AMOUNT-collection-discount-BEDDEBTSAMOUNT) as balance from CRM_ESTIMATE_INVOICE where id=$invoice_id&quot;;\n                  return  number_format($estimate_collection_res= $this-&gt;db-&gt;query($estimate_collection)-&gt;row_array()[&#39;balance&#39;],2);\n\n                 }\n\n\n                 function outsourceDetail($outsource_id)\n                  {\n                    $query = &quot;SELECT CUST_OUT_SRC_SNO,NOTE, CRM_NETWORK.EMAIL,CRM_NETWORK.COMP_NAME,\n                    CRM_CUSTOMER.CUSTOMER_NAME,CUSTOMER_ADDRESS,CRM_CUSTOMER.EMAIL as CUSTOMER_EMAIL,\n                    CRM_CUSTOMER.PHONE,CRM_SERVICE.SERV_NAME FROM `CRM_CUSTOMER_OUT_SOURCE`\n                    JOIN CRM_CUSTOMER on CRM_CUSTOMER.CUSTOMER_ID=CRM_CUSTOMER_OUT_SOURCE.CUSTOMER_ID\n                    JOIN CRM_NETWORK on CRM_NETWORK.NETWORK_ID=CRM_CUSTOMER_OUT_SOURCE.NETWORK_ID\n                    JOIN CRM_SERVICE on CRM_SERVICE.SERV_ID=CRM_CUSTOMER.SERV_ID\n\n                    where CRM_CUSTOMER_OUT_SOURCE.CUST_OUT_SRC_ID=$outsource_id&quot;;\n                    $query= $this-&gt;db-&gt;query($query);\n                    if($query-&gt;num_rows()&gt;0)\n                    {\n                      return $query-&gt;row_array();\n\n                    }else{\n                      return false;\n                    }\n                  }\n\n                  function GiveInvoiceDetail($invoice_id){\n                    $query = &quot;SELECT * FROM `CRM_ESTIMATE_INVOICE`\n                    where id = $invoice_id&quot;;\n                    $res = $this-&gt;db-&gt;query($query);\n                    if($res-&gt;num_rows()&gt;0){\n                      return $res-&gt;result_array();\n                    }else{\n                      return FALSE;\n                    }\n\n                  }\n\n                  function GiveInvoiceDetailEstimate_id($invoice_id){\n                    $query = &quot;SELECT * FROM `CRM_ESTIMATE_INVOICE`\n                    where ESTIMATE_SNO= &#39;$invoice_id&#39;&quot;;\n                    $res = $this-&gt;db-&gt;query($query);\n                    if($res-&gt;num_rows()&gt;0){\n                      return $res-&gt;result_array();\n                    }else{\n                      return FALSE;\n                    }\n\n                  }\n\n\n \n                  function EstimateInvoice($Estimate_id){\n                    $query = &quot;SELECT * FROM `CRM_ESTIMATE_INVOICE`\n                    where ESTIMATE_ID=$Estimate_id ORDER BY id DESC&quot;;\n                    $res = $this-&gt;db-&gt;query($query);\n                  //  echo  $this-&gt;db-&gt;last_query();\n                    if($res-&gt;num_rows()&gt;0){\n                      return $res-&gt;result_array();\n                    }else{\n                      return FALSE;\n                    }\n                  }\n                  function EstimateDetail(){\n\n                  }\n\n                  function InvoiceLog($id){\n                    $query = $this-&gt;db-&gt;get_where(&quot;CRM_INVOICE_LOG&quot;,array(&quot;INVOICE_ID&quot;=&gt;$id));\n                    if($query-&gt;num_rows()&gt;0)\n                    {\n                      return $query-&gt;result_array();\n                    }else{\n                      return false;\n                    }\n\n                  }\n\n     public function isMobileExist($mobile){\n           $rows = 0 ;\n          $this-&gt;db-&gt;where(&#39;MOBILE&#39;, $mobile);\n          $num_rows=$this-&gt;db-&gt;count_all_results(&#39;CRM_CUSTOMER&#39;);\n           $this-&gt;db-&gt;where(&#39;PHONE&#39;, $mobile);\n          $num_rows=$this-&gt;db-&gt;count_all_results(&#39;CRM_CUSTOMER&#39;);\n          $this-&gt;db-&gt;where(&#39;USER_MOBILE&#39;, $mobile);\n          $num_rowsuser=$this-&gt;db-&gt;count_all_results(&#39;CRM_USER&#39;);\n          if($num_rows &gt; 0 || $num_rowsuser &gt; 0){\n            $rows = 1;\n          }\n         return $rows;\n\n\n\n       }\n    public function isEmailExist($email){\n          $rows = 0;\n          $this-&gt;db-&gt;where(&#39;EMAIL&#39;, $email);\n          $num_rows=$this-&gt;db-&gt;count_all_results(&#39;CRM_CUSTOMER&#39;);\n\n           $this-&gt;db-&gt;where(&#39;USER_EMAIL&#39;, $email);\n          $num_rowsuser=$this-&gt;db-&gt;count_all_results(&#39;CRM_USER&#39;);\n          if($num_rows &gt; 0 || $num_rowsuser &gt; 0){\n            $rows = 1;\n          }\n         return $rows;\n       }\n\n       function Get_all_customerajaxdata($comp_id,$column_order=&#39;&#39;,$column_search=&#39;&#39;,$order=&#39;&#39;,$start =&#39;&#39;,$limit =&#39;&#39;, $count = &#39;&#39;,$name=&#39;&#39;,$date=&#39;&#39;,$status=&#39;&#39;,$service=&#39;&#39;,$branch=&#39;&#39;){\n\n                  $per =$this-&gt;session-&gt;userdata(&#39;permission&#39;);\n                $pers = json_decode($per);\n                $permision_branch = &quot;&quot;;\n           if(isset($pers-&gt;customer-&gt;branch) &amp;&amp; !empty($pers-&gt;customer-&gt;branch)){\n            $permision_branch = $pers-&gt;customer-&gt;branch;\n           }\n            \n                   \n\n                   if($service!=&#39;&#39; &amp;&amp; $service!=0){\n                     $this-&gt;db-&gt;where_in(&quot;CRM_CUSTOMER.SERV_ID&quot;,$service);\n                   }\n                   if($branch!=&#39;&#39; &amp;&amp; $branch!=0){\n                     $this-&gt;db-&gt;where_in(&quot;CRM_CUSTOMER.BRANCH_ID&quot;,$branch);\n                   }else{\n                    if(isset($permision_branch) &amp;&amp; !empty($permision_branch)){\n                    $this-&gt;db-&gt;where_in(&#39;CRM_CUSTOMER.BRANCH_ID&#39;, $permision_branch);\n                   }\n                   }\n                   if($date !=&#39;&#39;){\n                    $date_range= explode(&quot;-&quot;,$date);\n                     $this-&gt;db-&gt;where(&quot;date(CRM_CUSTOMER.CREATE_DATE) &gt;=&quot;,trim(date(&#39;Y-m-d&#39;,strtotime($date_range[0]))));\n                     $this-&gt;db-&gt;where(&quot;date(CRM_CUSTOMER.CREATE_DATE) &lt;=&quot;,trim(date(&#39;Y-m-d&#39;,strtotime($date_range[1]))));\n\n                   }\n                   if($name!=&#39;&#39;){\n                     $this-&gt;db-&gt;like(&quot;CRM_CUSTOMER.CUSTOMER_NAME&quot;,$name,&quot;%&quot;);\n                   }\n                   if($status!=&#39;&#39;){\n                  //  echo &quot;====&gt;Priyanka=====&quot;;\n                     $this-&gt;db-&gt;where_in(&quot;CRM_CUSTOMER.STAT_ID&quot;,$status);\n                   }\n\n                   $this-&gt;db-&gt;select(&#39;CRM_CUSTOMER.*,CRM_USER.USER_NAME,\n                   CRM_SERVICE.SERV_NAME,CRM_BRANCH.BRANCH_NAME,\n                   CRM_LEAD_SOURCE.LD_SRC_NAME,CRM_NETWORK.COMP_NAME,STAT_NAME&#39;);\n                   $this-&gt;db-&gt;from($this-&gt;db-&gt;dbprefix(&#39;CUSTOMER&#39;));\n           \n                   $this-&gt;db-&gt;join(&quot;CRM_USER&quot;,&quot;CRM_USER.USER_ID=CRM_CUSTOMER.CREATE_BY&quot;);\n                   $this-&gt;db-&gt;JOIN(&quot;CRM_BRANCH&quot;,&quot;CRM_BRANCH.BRANCH_ID=CRM_CUSTOMER.BRANCH_ID&quot;);\n                   $this-&gt;db-&gt;JOIN(&quot;CRM_SERVICE&quot;,&quot;CRM_SERVICE.SERV_ID=CRM_CUSTOMER.SERV_ID&quot;);\n                   $this-&gt;db-&gt;JOIN(&quot;CRM_LEAD_SOURCE&quot;,&quot;CRM_LEAD_SOURCE.LD_SRC_ID=CRM_CUSTOMER.SOURCE_NAME&quot;,&quot;LEFT&quot;);\n                   $this-&gt;db-&gt;JOIN(&quot;CRM_NETWORK&quot;,&quot;CRM_NETWORK.NETWORK_ID=CRM_CUSTOMER.SOURCE_NAME&quot;,&quot;LEFT&quot;);\n                   $this-&gt;db-&gt;JOIN(&quot;CRM_STATUS&quot;,&quot;CRM_STATUS.STAT_ID=CRM_CUSTOMER.STAT_ID&quot;,&quot;LEFT&quot;);\n                   // $this-&gt;db-&gt;where(&#39;CUST_STATUS&#39;,1);\n                   $this-&gt;db-&gt;where(&#39;CRM_CUSTOMER.COMP_ID&#39;,$this-&gt;session-&gt;userdata(&#39;comp_id&#39;));\n\n                   \n                   // $this-&gt;db-&gt;order_by(&quot;CRM_CUSTOMER.CUSTOMER_ID&quot;,&quot;desc&quot;);\n                   $i = 0;\n                  if(isset($column_search) &amp;&amp; !empty($column_search)){\n                  foreach ($column_search as $item)  {\n                    if($_POST[&#39;search&#39;][&#39;value&#39;]) {\n\n                      if($i===0) {\n                        $this-&gt;db-&gt;group_start();\n                        $this-&gt;db-&gt;like($item, $_POST[&#39;search&#39;][&#39;value&#39;]);\n                        } else {\n                        $this-&gt;db-&gt;or_like($item, $_POST[&#39;search&#39;][&#39;value&#39;]);\n                      }\n                      if(count($column_search) - 1 == $i)\n                      $this-&gt;db-&gt;group_end();\n                    }\n                    $i++;\n                  }\n                  }\n                  if(isset($_POST[&#39;order&#39;])) {\n                    $this-&gt;db-&gt;order_by($column_order[$_POST[&#39;order&#39;][&#39;0&#39;][&#39;column&#39;]], $_POST[&#39;order&#39;][&#39;0&#39;][&#39;dir&#39;]);\n                    } else if(isset($order)) {\n                    $this-&gt;db-&gt;order_by(key($order), $order[key($order)]);\n                  }\n                   if($count != 1){\n                      if($limit != -1){\n                    $this-&gt;db-&gt;limit( $limit,$start);\n                      }\n                  }\n                  $res = $this-&gt;db-&gt;get();\n           \n            // echo $this-&gt;db-&gt;last_query();\n            // die;\n           \n            if ($res-&gt;num_rows() &gt; 0)\n            {\n                return $res-&gt;result_array();\n            }\n            else\n            {\n                return false;\n            }\n\n                 }\n                            \n       function GiveInvoiceDetailobject($invoice_id){\n                    $query = &quot;SELECT * FROM `CRM_ESTIMATE_INVOICE`\n                    where id = $invoice_id&quot;;\n                    $res = $this-&gt;db-&gt;query($query);\n                    if($res-&gt;num_rows()&gt;0){\n                      return $res-&gt;result_object();\n                    }else{\n                      return FALSE;\n                    }\n\n                  }\n                  \n        function get_estimatecollection($ESTIMATE_SNO){\n            $this-&gt;db-&gt;select_sum(&#39;collection&#39;)\n                    -&gt;from(&#39;CRM_ESTIMATE_INVOICE&#39;)\n                    -&gt;where(&#39;ESTIMATE_SNO&#39;,$ESTIMATE_SNO);\n           $data=$this-&gt;db-&gt;get()-&gt;result_object();\n                 \n                   return $data;        \n            \n        }\n        \n        function  total_invoice_pay($invoice_id)\n     {\n      $this-&gt;db-&gt;select_sum(&#39;AMOUNT&#39;)\n           -&gt;where(&#39;INVOICE_ID&#39;,$invoice_id)\n           -&gt;from(&#39;CRM_INVOICE_LOG&#39;);\n           $data=$this-&gt;db-&gt;get()-&gt;result_object();\n           return $data;\n     }\n    \n    function GetAllEstimatedatatable($customer_ids){\n\n\n            if ($customer_ids)\n            {\n              \n                $this\n                    -&gt;db\n                    -&gt;where_in(&quot;CRM_CUSTOMER_ESTIMATE.CUSTOMER_ID&quot;, $customer_ids);\n            }\n\n           \n\n            $this\n                -&gt;db\n                -&gt;select(&quot;CRM_CUSTOMER_ESTIMATE.*,CRM_CUSTOMER.CUSTOMER_NAME,CRM_CUSTOMER.MOBILE,\n                CRM_USER.USER_NAME,UPDATE_DATA.USER_NAME as UPDATE_BY,CRM_STATUS.STAT_NAME,CRM_SERVICE.SERV_NAME,CRM_CUSTOMER.PROV_ID&quot;);\n\n            $this\n                -&gt;db\n                -&gt;from(&quot;CRM_CUSTOMER_ESTIMATE&quot;);\n            $this\n                -&gt;db\n                -&gt;join(&quot;CRM_CUSTOMER&quot;, &quot;CRM_CUSTOMER.CUSTOMER_ID=CRM_CUSTOMER_ESTIMATE.CUSTOMER_ID&quot;);\n            $this\n                -&gt;db\n                -&gt;join(&quot;CRM_USER&quot;, &quot;CRM_USER.USER_ID=CRM_CUSTOMER_ESTIMATE.CREATE_BY&quot;);\n            $this\n                -&gt;db\n                -&gt;join(&quot;CRM_USER UPDATE_DATA&quot;, &quot;UPDATE_DATA.USER_ID=CRM_CUSTOMER_ESTIMATE.UPDATE_BY&quot;);\n            $this\n                -&gt;db\n                -&gt;join(&quot;CRM_STATUS&quot;, &quot;CRM_STATUS.STAT_ID=CRM_CUSTOMER_ESTIMATE.STAT_ID&quot;);\n            $this\n                -&gt;db\n                -&gt;join(&quot;CRM_SERVICE&quot;, &quot;CRM_SERVICE.SERV_ID=CRM_CUSTOMER_ESTIMATE.SERV_ID&quot;);\n                \n                \n            $this\n                -&gt;db\n                -&gt;where(&quot;CRM_CUSTOMER_ESTIMATE.COMP_ID&quot;, $this\n                -&gt;session\n                -&gt;userdata(&#39;comp_id&#39;));\n            $this\n                -&gt;db\n                -&gt;where(&quot;CRM_CUSTOMER_ESTIMATE.CUST_EST_STATUS&quot;, 1);\n            $this-&gt;db-&gt;order_by(&#39;CRM_CUSTOMER_ESTIMATE.ESTIMATE_ID&#39;, &#39;DESC&#39;);\n            \n        $this-&gt;db-&gt;where(&#39;`CRM_CUSTOMER_ESTIMATE`.`ESTIMATE_ID` IN ( SELECT MAX(ESTIMATE_ID) FROM CRM_CUSTOMER_ESTIMATE GROUP BY ESTIMATE_SNO )&#39;);\n                 \n                 \n              \n            $res = $this-&gt;db-&gt;get();\n            \n          \n            if ($res-&gt;num_rows() &gt; 0)\n            {\n                return $res-&gt;result_array();\n            }\n            else\n            {\n                return false;\n            }\n\n        }\n\n  public function get_invoice_amount($ESTIMATE_SNO){\n      $query =&quot;select sum(INVOICE_AMOUNT) as totalamt from CRM_ESTIMATE_INVOICE where ESTIMATE_SNO=&#39;$ESTIMATE_SNO&#39;&quot;;\n\n      $res = $this-&gt;db-&gt;query($query);\n      $totalamt = $res-&gt;row_array()[&#39;totalamt&#39;];\n\n      return $totalamt ? $totalamt : 0;\n  }  \n\n  public function get_task_detail($id){\n\n    $query = &quot;SELECT ID,REPRESENTATIVE, ASSIGN_TASK_SNO,LEVEL,TITLE,CRM_USER.USER_NAME,CRM_ASSIGN_TASK.STATUS,NOTES,START_DATE,DUE_DATE,create_user.USER_NAME as create_by,unit,guest_email,ESTIMATE_ID,inspection,CRM_EVENT.EVENT_TIME,CRM_EVENT.EVENT_END_TIME,custcheck\nFROM CRM_ASSIGN_TASK\njoin CRM_USER on CRM_USER.USER_ID=CRM_ASSIGN_TASK.REPRESENTATIVE\njoin CRM_USER as create_user on create_user.USER_ID=CRM_ASSIGN_TASK.CREATE_BY\nLEFT join CRM_EVENT on CRM_EVENT.TASK_ID = CRM_ASSIGN_TASK.ID \nwhere CRM_ASSIGN_TASK.ID=$id&quot; ;\n$query  = $this-&gt;db-&gt;query($query);\nif($query-&gt;num_rows()&gt;0)\n{\n  $datas= $query-&gt;result_object();\n  $data = $datas[0];\n}else{\n  return $data = array();\n}\n return $data;\n  }    \n\npublic function representive_data($k){\n  $this-&gt;db-&gt;select(&#39;*&#39;)-&gt;from(&#39;CRM_USER&#39;)-&gt;where(&#39;USER_ID&#39;,$k);\n   $res = $this-&gt;db-&gt;get();\n     if ($res-&gt;num_rows() &gt; 0){\n            return $res-&gt;result_object();\n        }\n        else{\n            return false;\n        }\n}\n\n  public function update_branch($branch_id,$customer_id){\n    if($this-&gt;db-&gt;query(&quot;update CRM_CUSTOMER set BRANCH_ID = $branch_id where CUSTOMER_ID = $customer_id&quot;)){\n      return 1;\n    }else{\n      return 0;\n    }\n  }\n\n  public function allCalltracking(){\n    $this-&gt;db-&gt;select(&#39;*&#39;)-&gt;from(&#39;CRM_CALLTRACKING&#39;)-&gt;where(&#39;COMP_ID&#39;, $this-&gt;session-&gt;userdata(&#39;comp_id&#39;));\n    $res = $this-&gt;db-&gt;get();\n    if($res-&gt;num_rows() &gt; 0 ){\n      $result = $res-&gt;result_object();\n    }else{\n      $result = false;\n    }\n    return $result;\n  }\n\n  public function getCustomerDetailUsingPhone($CALLERID = null){\n\n    $res=$this-&gt;db-&gt;query(&quot;SELECT REPLACE(REPLACE(REPLACE(REPLACE(PHONE, &#39;-&#39;, &#39;&#39;) , &#39;(&#39;, &#39;&#39;) , &#39;)&#39;, &#39;&#39;), &#39; &#39;,&#39;&#39;) as strnumber,CRM_CUSTOMER.* FROM `CRM_CUSTOMER` HAVING strnumber  = &#39;&quot;.$CALLERID.&quot;&#39;&quot;);\n    if($res-&gt;num_rows()&gt;0)\n       {\n         return $res-&gt;result_object();\n       }else{\n         return false;\n       }\n  }\n\npublic function update_customerSource($CUSTOMER_ID,$SOURCENAME){\n  if($this-&gt;db-&gt;query(&quot;update CRM_CUSTOMER set SOURCE_TYPE =&#39;&quot;.$SOURCENAME.&quot;&#39; where CUSTOMER_ID = &quot; .$CUSTOMER_ID)){\n    return true;\n  }else{\n    return false;\n  }\n}\n\n/*****************Call Tracking Ajax function ********/\n\nfunction Get_all_calltrackingajaxdata($comp_id,$column_order=&#39;&#39;,$column_search=&#39;&#39;,$order=&#39;&#39;,$start=&#39;&#39;,$limit=&#39;&#39;, $count = &#39;&#39;,$name=&#39;&#39;,$date=&#39;&#39;,$status=&#39;&#39;,$source=&#39;&#39;){\n     if($date !=&#39;&#39;){\n        $date_range= explode(&quot;-&quot;,$date);\n         $this-&gt;db-&gt;where(&quot;date(CRM_CALLTRACKING.CALLERDATE) &gt;=&quot;,trim(date(&#39;Y-m-d&#39;,strtotime($date_range[0]))));\n         $this-&gt;db-&gt;where(&quot;date(CRM_CALLTRACKING.CALLERDATE) &lt;=&quot;,trim(date(&#39;Y-m-d&#39;,strtotime($date_range[1]))));\n\n       }\n       if($name!=&#39;&#39;){\n         $this-&gt;db-&gt;like(&quot;CRM_CUSTOMER.CUSTOMER_NAME&quot;,$name,&quot;%&quot;);\n       }\n       if($source != &#39;&#39;){\n        $this-&gt;db-&gt;like(&quot;CRM_CALLTRACKING.SOURCE&quot;,$source,&quot;%&quot;);\n       }\n       \n\n       $this-&gt;db-&gt;select(&quot;CRM_CUSTOMER.PHONE,CRM_CUSTOMER.CUSTOMER_NAME,CRM_CUSTOMER.CUSTOMER_ID, CRM_CALLTRACKING.* &quot;);\n\n       $this-&gt;db-&gt;from($this-&gt;db-&gt;dbprefix(&#39;CALLTRACKING&#39;));\n       \n       $this-&gt;db-&gt;join(&quot;CRM_CUSTOMER&quot;, &quot;CRM_CALLTRACKING.`CALLERID` = (REPLACE(REPLACE(REPLACE(REPLACE(PHONE, &#39;-&#39;, &#39;&#39;) , &#39;(&#39;, &#39;&#39;) , &#39;)&#39;, &#39;&#39;), &#39; &#39;,&#39;&#39;))&quot; ,&quot;LEFT&quot;);\n\n\n       $this-&gt;db-&gt;where(&#39;CRM_CALLTRACKING.CALLERID &lt;&gt;&#39;, 0);\n       if(isset($_POST[&#39;status&#39;]) &amp;&amp; $_POST[&#39;status&#39;] == 1 &amp;&amp; !empty($_POST[&#39;status&#39;])){\n        $this-&gt;db-&gt;where(&#39;CRM_CUSTOMER.CUSTOMER_ID IN (SELECT CUSTOMER_ID FROM CRM_ESTIMATE_INVOICE WHERE CUSTOMER_ID GROUP BY CUSTOMER_ID)&#39;);\n       }\n\n       if(isset($_POST[&#39;status&#39;]) &amp;&amp; $_POST[&#39;status&#39;] == 0 &amp;&amp; !empty($_POST[&#39;status&#39;])){\n        $this-&gt;db-&gt;where(&#39;CRM_CUSTOMER.CUSTOMER_ID NOT IN (SELECT CUSTOMER_ID FROM CRM_ESTIMATE_INVOICE WHERE CUSTOMER_ID GROUP BY CUSTOMER_ID)&#39;);\n       }\n       // $this-&gt;db-&gt;where(&#39;CUST_STATUS&#39;,1);\n       $this-&gt;db-&gt;where(&#39;CRM_CALLTRACKING.COMP_ID&#39;,$this-&gt;session-&gt;userdata(&#39;comp_id&#39;));\n       // $this-&gt;db-&gt;order_by(&quot;CRM_CUSTOMER.CUSTOMER_ID&quot;,&quot;desc&quot;);\n       $i = 0;\n      if(isset($column_search) &amp;&amp; !empty($column_search)){\n      foreach ($column_search as $item)  {\n        if($_POST[&#39;search&#39;][&#39;value&#39;]) {\n\n          if($i===0) {\n            $this-&gt;db-&gt;group_start();\n            $this-&gt;db-&gt;like($item, $_POST[&#39;search&#39;][&#39;value&#39;]);\n            } else {\n            $this-&gt;db-&gt;or_like($item, $_POST[&#39;search&#39;][&#39;value&#39;]);\n          }\n          if(count($column_search) - 1 == $i)\n          $this-&gt;db-&gt;group_end();\n        }\n        $i++;\n      }\n      }\n      if(isset($_POST[&#39;order&#39;])) {\n        $this-&gt;db-&gt;order_by($column_order[$_POST[&#39;order&#39;][&#39;0&#39;][&#39;column&#39;]], $_POST[&#39;order&#39;][&#39;0&#39;][&#39;dir&#39;]);\n        } else if(isset($order)) {\n        $this-&gt;db-&gt;order_by(key($order), $order[key($order)]);\n      }\n       if($count != 1){\n           if($limit != -1){\n        $this-&gt;db-&gt;limit( $limit,$start);\n           }\n      }\n       $data=$this-&gt;db-&gt;get()-&gt;result_object();\n     \n       return $data;\n\n  }\n  function customerinvoice($cust_id){\n                    $query = &quot;SELECT * FROM `CRM_ESTIMATE_INVOICE`\n                    where CUSTOMER_ID = $cust_id&quot;;\n                    $res = $this-&gt;db-&gt;query($query);\n                    if($res-&gt;num_rows()&gt;0){\n                      return $res-&gt;result_object();\n                    }else{\n                      return FALSE;\n                    }\n\n                  }\n}";
        // Using jquery way of decoding the html content.
        // Tried to use '_' version of unescape method but it
        // did not decode encoded version of apostrophe (')
        // where the code is &#39;
        var htmlContent = $("<div/>").html(file_content).text();

        var fileName = "Customer_model.php";
        var editAreaEl = "";
        var lastResizeTime = 0;
        var lastResizeRequestTime = 0;
        var NVData = {"editor_fontsize":"","editor_nowrap":"1"};

        function load_EditArea(workingContent) {
            workingContent = workingContent;
            if(USE_LEGACY_EDITOR){
                showAceEditorElements(false);

                editAreaEl = 'legacy_codewindow';
                CODEWINDOW = DOM.get(editAreaEl);
                editAreaLoader.show(editAreaEl);
                loadLegacyEditor(editAreaEl, workingContent);
            } else {
                editAreaLoader.hide(editAreaEl);

                editAreaEl = 'codewindow';
                CODEWINDOW = DOM.get(editAreaEl);
                showAceEditorElements(true);
                loadAceEditor(editAreaEl, workingContent);
            }
        }

        function showAceEditorElements(show){
            if(show){
                $(".show-ace-editor").show();
            } else {
                $(".show-ace-editor").hide();
            }
        }

        function loadLegacyEditor(editAreaId, editContent){
            // Setting up the ids in js/edit_area_resizer.js file to
            // use it for resizing purposes.
            setElementIds(editAreaId);
            var EditArea_config = {
                id: editAreaEl,
                start_highlight: true,
                allow_resize: "both",
                allow_toggle: false,
                language: "en",
                toolbar: "search, go_to_line, |, undo, redo, |, select_font, |, syntax_selection, |, change_smooth_selection, highlight, reset_highlight, word_wrap, |, help",
                syntax: "php",
                word_wrap: true
            };
            editAreaLoader.setValue(editAreaId, editContent);

            editAreaLoader.init(EditArea_config);
            doResizeSoon();
        }

        function loadAceEditor(editAreaEl, editContent){
            ace_editor = ace.edit(editAreaEl);
            // The line below is added to disable a
            // warning message as required by ace editor
            // script.
            ace_editor.$blockScrolling = Infinity;
            ace_editor.focus();

            var editSession = ace.createEditSession(editContent);
            ace_editor.setSession(editSession);
            if(typeof(editSession) !== "undefined"){
                var defaultFontSize = parseInt(NVData.editor_fontsize, 10) || 13;
                // Load the modelist extension to identify the file
                // type of the given file and open the file in that
                // editor mode.
                var modelist = ace.require("ace/ext/modelist");
                var modeObj = modelist.getModeForPath(fileName);

                ace_editor.setOptions({
                    "fontSize": defaultFontSize,
                    "mode": modeObj.mode,
                    "theme": "ace/theme/chrome"
                });
                updateWordWrapInterface();

                // Fill mode list dropdown in the toolbar.
                var $modeEl = $('#ddlModes');
                fillModesDropdown($modeEl, modelist);
                $modeEl.val(modeObj.name);
                // Bind change event.
                $modeEl.change(function(){
                    var selectedMode = $modeEl.find( "option:selected" ).first().val();
                    ace_editor.getSession().setMode(modelist.modesByName[selectedMode].mode);
                });

                // Fill font size dropdown.
                var $fontEl = $('#ddlFontSizes');
                fillFontsDropdown($fontEl);
                $fontEl.val(defaultFontSize);
                // Bind change event.
                $fontEl.change(function(){
                    var selectedSize = parseInt($fontEl.find( "option:selected" ).first().val());
                    SetNvData("editor_fontsize", selectedSize);
                    ace_editor.setFontSize(selectedSize);
                });
            }
        }

        function fillFontsDropdown($el) {
            var arr = [10, 11, 12, 13, 14, 16, 18, 20, 24].map(function(size){
                return {val: size, text: size + "px"};
            });
            arr.forEach(function(val){
                $el.append($("<option>", val));
            });
        }

        function fillModesDropdown($el, modeList) {
            var arr = modeList.modes.map(function(oMode){
                return {val: oMode.name, text: oMode.caption};
            });
            arr.forEach(function(val){
                $el.append($("<option>", val));
            });
        }

        function toolbarActions(action){
            switch(action){
                case "search":
                ace_editor.execCommand("find");
                break;
                case "goto":
                ace_editor.execCommand("gotoline");
                break;
                case "undo":
                ace_editor.undo();
                break;
                case "redo":
                ace_editor.redo();
                break;
                case "linewrap":
                toggleWordWrap();
                break;
            }
        }

        function toggleWordWrap() {
            if (NVData.editor_nowrap) {
                SetNvData("editor_nowrap", 0);
            } else {
                SetNvData("editor_nowrap", 1);
            }
            updateWordWrapInterface();
        }

        function updateWordWrapInterface() {
            var btnEl = document.querySelector("#btnLineWrap");

            if (btnEl && NVData.editor_nowrap) {
                ace_editor.setOption("wrap", false);
                btnEl.classList.remove("active");
            } else {
                ace_editor.setOption("wrap", 80);
                btnEl.classList.add("active");
            }
            // Remove the focus button state for less UI confusion
            btnEl.blur();
        }

        /*
         * This function detects if the browser is in a mobile
         * environment.
         * Note: This is used to open the editor in legacy editor mode
         * until Ace editor comes with the fixes for issues described in
         * ZC-2558.
        */
        function detectmobile() {
         if( navigator.userAgent.match(/Android/i)
         || navigator.userAgent.match(/webOS/i)
         || navigator.userAgent.match(/iPhone/i)
         || navigator.userAgent.match(/iPad/i)
         || navigator.userAgent.match(/iPod/i)
         || navigator.userAgent.match(/BlackBerry/i)
         || navigator.userAgent.match(/Windows Phone/i)
         ){
            return true;
          }
         else {
            return false;
          }
        }

        function toggle_EditArea(link) {
            var workingContent = "";
            if(USE_LEGACY_EDITOR){
                USE_LEGACY_EDITOR = false;
                // send working content to not loose working data
                // when user switches between two editors.
                workingContent = (editAreaLoader) ? editAreaLoader.getValue(editAreaEl) : "";
            } else {
                USE_LEGACY_EDITOR = true;
                // Reset the word wrap
                toggleWordWrap();
                // send working content to not loose working data
                // when user switches between two editors.
                workingContent = (ace_editor) ? ace_editor.getSession().getValue() : "";
            }
            toggleSwitchButtonAttr(link);
            load_EditArea(workingContent);
        }

        function toggleSwitchButtonAttr(btnEl) {
            var $switchButton = $(btnEl);
            if(USE_LEGACY_EDITOR){
                $switchButton.text("Use latest editor").prop("title", "Switch to latest editor.");
            } else {
                $switchButton.text("Use legacy editor").prop("title", "Switch to legacy editor.");
            }
        }

        var CODEWINDOW;
        var ace_editor;

        EVENT.throwErrors = true;

        YAHOO.util.Event.addListener(window, "load", function(){
            savedContent = htmlContent;
            if(detectmobile()){
                USE_LEGACY_EDITOR = true;
            }
            toggleSwitchButtonAttr(DOM.get("switch_editor_control"));
            load_EditArea(savedContent);
        });
        $(window).resize(function(e) {
            doResize();
        });
        </script>

    

<div id="cjt_dynamicnotice_container" class="cjt-dynamicnotice-container cjt-notice-container"></div></body></html>